{"ast":null,"code":"// src/shared.ts\nvar clamp = value => Math.max(0, Math.min(1, value));\nvar wrap = (v, idx) => {\n  return v.map((_, index) => v[(Math.max(idx, 0) + index) % v.length]);\n};\nvar pipe = (...fns) => arg => fns.reduce((acc, fn) => fn(acc), arg);\nvar noop = () => void 0;\nvar isObject = v => typeof v === \"object\" && v !== null;\nvar MAX_Z_INDEX = 2147483647;\nvar dataAttr = guard => guard ? \"\" : void 0;\nvar ariaAttr = guard => guard ? \"true\" : void 0;\n\n// src/node.ts\nvar ELEMENT_NODE = 1;\nvar DOCUMENT_NODE = 9;\nvar DOCUMENT_FRAGMENT_NODE = 11;\nvar isHTMLElement = el => isObject(el) && el.nodeType === ELEMENT_NODE && typeof el.nodeName === \"string\";\nvar isDocument = el => isObject(el) && el.nodeType === DOCUMENT_NODE;\nvar isWindow = el => isObject(el) && el === el.window;\nvar isVisualViewport = el => isObject(el) && el.constructor.name === \"VisualViewport\";\nvar getNodeName = node => {\n  if (isHTMLElement(node)) return node.localName || \"\";\n  return \"#document\";\n};\nfunction isRootElement(node) {\n  return [\"html\", \"body\", \"#document\"].includes(getNodeName(node));\n}\nvar isNode = el => isObject(el) && el.nodeType !== void 0;\nvar isShadowRoot = el => isNode(el) && el.nodeType === DOCUMENT_FRAGMENT_NODE && \"host\" in el;\nvar isInputElement = el => isHTMLElement(el) && el.localName === \"input\";\nvar isAnchorElement = el => !!el?.matches(\"a[href]\");\nvar isElementVisible = el => {\n  if (!isHTMLElement(el)) return false;\n  return el.offsetWidth > 0 || el.offsetHeight > 0 || el.getClientRects().length > 0;\n};\nvar TEXTAREA_SELECT_REGEX = /(textarea|select)/;\nfunction isEditableElement(el) {\n  if (el == null || !isHTMLElement(el)) return false;\n  try {\n    return isInputElement(el) && el.selectionStart != null || TEXTAREA_SELECT_REGEX.test(el.localName) || el.isContentEditable || el.getAttribute(\"contenteditable\") === \"true\" || el.getAttribute(\"contenteditable\") === \"\";\n  } catch {\n    return false;\n  }\n}\nfunction contains(parent, child) {\n  if (!parent || !child) return false;\n  if (!isHTMLElement(parent) || !isHTMLElement(child)) return false;\n  const rootNode = child.getRootNode?.();\n  if (parent === child) return true;\n  if (parent.contains(child)) return true;\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) return true;\n      next = next.parentNode || next.host;\n    }\n  }\n  return false;\n}\nfunction getDocument(el) {\n  if (isDocument(el)) return el;\n  if (isWindow(el)) return el.document;\n  return el?.ownerDocument ?? document;\n}\nfunction getDocumentElement(el) {\n  return getDocument(el).documentElement;\n}\nfunction getWindow(el) {\n  if (isShadowRoot(el)) return getWindow(el.host);\n  if (isDocument(el)) return el.defaultView ?? window;\n  if (isHTMLElement(el)) return el.ownerDocument?.defaultView ?? window;\n  return window;\n}\nfunction getActiveElement(rootNode) {\n  let activeElement = rootNode.activeElement;\n  while (activeElement?.shadowRoot) {\n    const el = activeElement.shadowRoot.activeElement;\n    if (el === activeElement) break;else activeElement = el;\n  }\n  return activeElement;\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === \"html\") return node;\n  const result = node.assignedSlot || node.parentNode || isShadowRoot(node) && node.host || getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\n\n// src/computed-style.ts\nvar styleCache = /* @__PURE__ */new WeakMap();\nfunction getComputedStyle(el) {\n  if (!styleCache.has(el)) {\n    styleCache.set(el, getWindow(el).getComputedStyle(el));\n  }\n  return styleCache.get(el);\n}\n\n// src/data-url.ts\nfunction getDataUrl(svg, opts) {\n  const {\n    type,\n    quality = 0.92,\n    background\n  } = opts;\n  if (!svg) throw new Error(\"[zag-js > getDataUrl]: Could not find the svg element\");\n  const win = getWindow(svg);\n  const doc = win.document;\n  const svgBounds = svg.getBoundingClientRect();\n  const svgClone = svg.cloneNode(true);\n  if (!svgClone.hasAttribute(\"viewBox\")) {\n    svgClone.setAttribute(\"viewBox\", `0 0 ${svgBounds.width} ${svgBounds.height}`);\n  }\n  const serializer = new win.XMLSerializer();\n  const source = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + serializer.serializeToString(svgClone);\n  const svgString = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(source);\n  if (type === \"image/svg+xml\") {\n    return Promise.resolve(svgString).then(str => {\n      svgClone.remove();\n      return str;\n    });\n  }\n  const dpr = win.devicePixelRatio || 1;\n  const canvas = doc.createElement(\"canvas\");\n  const image = new win.Image();\n  image.src = svgString;\n  canvas.width = svgBounds.width * dpr;\n  canvas.height = svgBounds.height * dpr;\n  const context = canvas.getContext(\"2d\");\n  if (type === \"image/jpeg\" || background) {\n    context.fillStyle = background || \"white\";\n    context.fillRect(0, 0, canvas.width, canvas.height);\n  }\n  return new Promise(resolve => {\n    image.onload = () => {\n      context?.drawImage(image, 0, 0, canvas.width, canvas.height);\n      resolve(canvas.toDataURL(type, quality));\n      svgClone.remove();\n    };\n  });\n}\n\n// src/platform.ts\nvar isDom = () => typeof document !== \"undefined\";\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return agent?.platform ?? navigator.platform;\n}\nfunction getUserAgent() {\n  const ua2 = navigator.userAgentData;\n  if (ua2 && Array.isArray(ua2.brands)) {\n    return ua2.brands.map(({\n      brand,\n      version\n    }) => `${brand}/${version}`).join(\" \");\n  }\n  return navigator.userAgent;\n}\nvar pt = v => isDom() && v.test(getPlatform());\nvar ua = v => isDom() && v.test(getUserAgent());\nvar vn = v => isDom() && v.test(navigator.vendor);\nvar isTouchDevice = () => isDom() && !!navigator.maxTouchPoints;\nvar isMac = () => pt(/^Mac/);\nvar isSafari = () => isApple() && vn(/apple/i);\nvar isFirefox = () => ua(/firefox\\//i);\nvar isApple = () => pt(/mac|iphone|ipad|ipod/i);\nvar isIos = () => pt(/iP(hone|ad|od)|iOS/);\nvar isWebKit = () => ua(/AppleWebKit/);\nvar isAndroid = () => {\n  const re = /android/i;\n  return pt(re) || ua(re);\n};\n\n// src/event.ts\nfunction getBeforeInputValue(event) {\n  const {\n    selectionStart,\n    selectionEnd,\n    value\n  } = event.currentTarget;\n  return value.slice(0, selectionStart) + event.data + value.slice(selectionEnd);\n}\nfunction getComposedPath(event) {\n  return event.composedPath?.() ?? event.nativeEvent?.composedPath?.();\n}\nfunction getEventTarget(event) {\n  const composedPath = getComposedPath(event);\n  return composedPath?.[0] ?? event.target;\n}\nvar isSelfTarget = event => {\n  return contains(event.currentTarget, getEventTarget(event));\n};\nfunction isOpeningInNewTab(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const isAppleDevice = isApple();\n  if (isAppleDevice && !event.metaKey) return false;\n  if (!isAppleDevice && !event.ctrlKey) return false;\n  const localName = element.localName;\n  if (localName === \"a\") return true;\n  if (localName === \"button\" && element.type === \"submit\") return true;\n  if (localName === \"input\" && element.type === \"submit\") return true;\n  return false;\n}\nfunction isDownloadingEvent(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const localName = element.localName;\n  if (!event.altKey) return false;\n  if (localName === \"a\") return true;\n  if (localName === \"button\" && element.type === \"submit\") return true;\n  if (localName === \"input\" && element.type === \"submit\") return true;\n  return false;\n}\nfunction isComposingEvent(event) {\n  return getNativeEvent(event).isComposing;\n}\nfunction isKeyboardClick(e) {\n  return e.detail === 0 || e.clientX === 0 && e.clientY === 0;\n}\nfunction isPrintableKey(e) {\n  return e.key.length === 1 && !e.ctrlKey && !e.metaKey;\n}\nfunction isVirtualPointerEvent(e) {\n  return e.width === 0 && e.height === 0 || e.width === 1 && e.height === 1 && e.pressure === 0 && e.detail === 0 && e.pointerType === \"mouse\";\n}\nfunction isVirtualClick(e) {\n  if (e.mozInputSource === 0 && e.isTrusted) return true;\n  if (isAndroid() && e.pointerType) {\n    return e.type === \"click\" && e.buttons === 1;\n  }\n  return e.detail === 0 && !e.pointerType;\n}\nvar isLeftClick = e => e.button === 0;\nvar isContextMenuEvent = e => {\n  return e.button === 2 || isMac() && e.ctrlKey && e.button === 0;\n};\nvar isModifierKey = e => e.ctrlKey || e.altKey || e.metaKey;\nvar isTouchEvent = event => \"touches\" in event && event.touches.length > 0;\nvar keyMap = {\n  Up: \"ArrowUp\",\n  Down: \"ArrowDown\",\n  Esc: \"Escape\",\n  \" \": \"Space\",\n  \",\": \"Comma\",\n  Left: \"ArrowLeft\",\n  Right: \"ArrowRight\"\n};\nvar rtlKeyMap = {\n  ArrowLeft: \"ArrowRight\",\n  ArrowRight: \"ArrowLeft\"\n};\nfunction getEventKey(event, options = {}) {\n  const {\n    dir = \"ltr\",\n    orientation = \"horizontal\"\n  } = options;\n  let key = event.key;\n  key = keyMap[key] ?? key;\n  const isRtl = dir === \"rtl\" && orientation === \"horizontal\";\n  if (isRtl && key in rtlKeyMap) key = rtlKeyMap[key];\n  return key;\n}\nfunction getNativeEvent(event) {\n  return event.nativeEvent ?? event;\n}\nvar pageKeys = /* @__PURE__ */new Set([\"PageUp\", \"PageDown\"]);\nvar arrowKeys = /* @__PURE__ */new Set([\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"]);\nfunction getEventStep(event) {\n  if (event.ctrlKey || event.metaKey) {\n    return 0.1;\n  } else {\n    const isPageKey = pageKeys.has(event.key);\n    const isSkipKey = isPageKey || event.shiftKey && arrowKeys.has(event.key);\n    return isSkipKey ? 10 : 1;\n  }\n}\nfunction getEventPoint(event, type = \"client\") {\n  const point = isTouchEvent(event) ? event.touches[0] || event.changedTouches[0] : event;\n  return {\n    x: point[`${type}X`],\n    y: point[`${type}Y`]\n  };\n}\nvar addDomEvent = (target, eventName, handler, options) => {\n  const node = typeof target === \"function\" ? target() : target;\n  node?.addEventListener(eventName, handler, options);\n  return () => {\n    node?.removeEventListener(eventName, handler, options);\n  };\n};\n\n// src/tabbable.ts\nvar isFrame = el => isHTMLElement(el) && el.tagName === \"IFRAME\";\nvar hasTabIndex = el => !Number.isNaN(parseInt(el.getAttribute(\"tabindex\") || \"0\", 10));\nvar hasNegativeTabIndex = el => parseInt(el.getAttribute(\"tabindex\") || \"0\", 10) < 0;\nvar focusableSelector = \"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type\";\nvar getFocusables = (container, includeContainer = false) => {\n  if (!container) return [];\n  const elements = Array.from(container.querySelectorAll(focusableSelector));\n  const include = includeContainer == true || includeContainer == \"if-empty\" && elements.length === 0;\n  if (include && isHTMLElement(container) && isFocusable(container)) {\n    elements.unshift(container);\n  }\n  const focusableElements = elements.filter(isFocusable);\n  focusableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      focusableElements.splice(i, 1, ...getFocusables(frameBody));\n    }\n  });\n  return focusableElements;\n};\nfunction isFocusable(element) {\n  if (!element || element.closest(\"[inert]\")) return false;\n  return element.matches(focusableSelector) && isElementVisible(element);\n}\nfunction getFirstFocusable(container, includeContainer) {\n  const [first] = getFocusables(container, includeContainer);\n  return first || null;\n}\nfunction getTabbables(container, includeContainer) {\n  if (!container) return [];\n  const elements = Array.from(container.querySelectorAll(focusableSelector));\n  const tabbableElements = elements.filter(isTabbable);\n  if (includeContainer && isTabbable(container)) {\n    tabbableElements.unshift(container);\n  }\n  tabbableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      const allFrameTabbable = getTabbables(frameBody);\n      tabbableElements.splice(i, 1, ...allFrameTabbable);\n    }\n  });\n  if (!tabbableElements.length && includeContainer) {\n    return elements;\n  }\n  return tabbableElements;\n}\nfunction isTabbable(el) {\n  if (el != null && el.tabIndex > 0) return true;\n  return isFocusable(el) && !hasNegativeTabIndex(el);\n}\nfunction getFirstTabbable(container, includeContainer) {\n  const [first] = getTabbables(container, includeContainer);\n  return first || null;\n}\nfunction getLastTabbable(container, includeContainer) {\n  const elements = getTabbables(container, includeContainer);\n  return elements[elements.length - 1] || null;\n}\nfunction getTabbableEdges(container, includeContainer) {\n  const elements = getTabbables(container, includeContainer);\n  const first = elements[0] || null;\n  const last = elements[elements.length - 1] || null;\n  return [first, last];\n}\nfunction getNextTabbable(container, current) {\n  const tabbables = getTabbables(container);\n  const doc = container?.ownerDocument || document;\n  const currentElement = current ?? doc.activeElement;\n  if (!currentElement) return null;\n  const index = tabbables.indexOf(currentElement);\n  return tabbables[index + 1] || null;\n}\nfunction getTabIndex(node) {\n  if (node.tabIndex < 0) {\n    if ((/^(audio|video|details)$/.test(node.localName) || isEditableElement(node)) && !hasTabIndex(node)) {\n      return 0;\n    }\n  }\n  return node.tabIndex;\n}\n\n// src/initial-focus.ts\nfunction getInitialFocus(options) {\n  const {\n    root,\n    getInitialEl,\n    filter,\n    enabled = true\n  } = options;\n  if (!enabled) return;\n  let node = null;\n  node || (node = typeof getInitialEl === \"function\" ? getInitialEl() : getInitialEl);\n  node || (node = root?.querySelector(\"[data-autofocus],[autofocus]\"));\n  if (!node) {\n    const tabbables = getTabbables(root);\n    node = filter ? tabbables.filter(filter)[0] : tabbables[0];\n  }\n  return node || root || void 0;\n}\nfunction isValidTabEvent(event) {\n  const container = event.currentTarget;\n  if (!container) return false;\n  const [firstTabbable, lastTabbable] = getTabbableEdges(container);\n  const doc = container.ownerDocument || document;\n  if (doc.activeElement === firstTabbable && event.shiftKey) return false;\n  if (doc.activeElement === lastTabbable && !event.shiftKey) return false;\n  if (!firstTabbable && !lastTabbable) return false;\n  return true;\n}\n\n// src/raf.ts\nfunction nextTick(fn) {\n  const set2 = /* @__PURE__ */new Set();\n  function raf2(fn2) {\n    const id = globalThis.requestAnimationFrame(fn2);\n    set2.add(() => globalThis.cancelAnimationFrame(id));\n  }\n  raf2(() => raf2(fn));\n  return function cleanup() {\n    set2.forEach(fn2 => fn2());\n  };\n}\nfunction raf(fn) {\n  const id = globalThis.requestAnimationFrame(fn);\n  return () => {\n    globalThis.cancelAnimationFrame(id);\n  };\n}\nfunction queueBeforeEvent(el, type, cb) {\n  const cancelTimer = raf(() => {\n    el.removeEventListener(type, exec, true);\n    cb();\n  });\n  const exec = () => {\n    cancelTimer();\n    cb();\n  };\n  el.addEventListener(type, exec, {\n    once: true,\n    capture: true\n  });\n  return cancelTimer;\n}\n\n// src/mutation-observer.ts\nfunction observeAttributesImpl(node, options) {\n  if (!node) return;\n  const {\n    attributes,\n    callback: fn\n  } = options;\n  const win = node.ownerDocument.defaultView || window;\n  const obs = new win.MutationObserver(changes => {\n    for (const change of changes) {\n      if (change.type === \"attributes\" && change.attributeName && attributes.includes(change.attributeName)) {\n        fn(change);\n      }\n    }\n  });\n  obs.observe(node, {\n    attributes: true,\n    attributeFilter: attributes\n  });\n  return () => obs.disconnect();\n}\nfunction observeAttributes(nodeOrFn, options) {\n  const {\n    defer\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups2 = [];\n  cleanups2.push(func(() => {\n    const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n    cleanups2.push(observeAttributesImpl(node, options));\n  }));\n  return () => {\n    cleanups2.forEach(fn => fn?.());\n  };\n}\nfunction observeChildrenImpl(node, options) {\n  const {\n    callback: fn\n  } = options;\n  if (!node) return;\n  const win = node.ownerDocument.defaultView || window;\n  const obs = new win.MutationObserver(fn);\n  obs.observe(node, {\n    childList: true,\n    subtree: true\n  });\n  return () => obs.disconnect();\n}\nfunction observeChildren(nodeOrFn, options) {\n  const {\n    defer\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups2 = [];\n  cleanups2.push(func(() => {\n    const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n    cleanups2.push(observeChildrenImpl(node, options));\n  }));\n  return () => {\n    cleanups2.forEach(fn => fn?.());\n  };\n}\n\n// src/navigate.ts\nfunction clickIfLink(el) {\n  const click = () => el.click();\n  if (isFirefox()) {\n    queueBeforeEvent(el, \"keyup\", click);\n  } else {\n    queueMicrotask(click);\n  }\n}\n\n// src/overflow.ts\nfunction getNearestOverflowAncestor(el) {\n  const parentNode = getParentNode(el);\n  if (isRootElement(parentNode)) return getDocument(parentNode).body;\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) return parentNode;\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(el, list = []) {\n  const scrollableAncestor = getNearestOverflowAncestor(el);\n  const isBody = scrollableAncestor === el.ownerDocument.body;\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, []));\n}\nvar getElementRect = el => {\n  if (isHTMLElement(el)) return el.getBoundingClientRect();\n  if (isVisualViewport(el)) return {\n    top: 0,\n    left: 0,\n    bottom: el.height,\n    right: el.width\n  };\n  return {\n    top: 0,\n    left: 0,\n    bottom: el.innerHeight,\n    right: el.innerWidth\n  };\n};\nfunction isInView(el, ancestor) {\n  if (!isHTMLElement(el)) return true;\n  const ancestorRect = getElementRect(ancestor);\n  const elRect = el.getBoundingClientRect();\n  return elRect.top >= ancestorRect.top && elRect.left >= ancestorRect.left && elRect.bottom <= ancestorRect.bottom && elRect.right <= ancestorRect.right;\n}\nvar OVERFLOW_RE = /auto|scroll|overlay|hidden|clip/;\nfunction isOverflowElement(el) {\n  const win = getWindow(el);\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = win.getComputedStyle(el);\n  return OVERFLOW_RE.test(overflow + overflowY + overflowX) && ![\"inline\", \"contents\"].includes(display);\n}\nfunction isScrollable(el) {\n  return el.scrollHeight > el.clientHeight || el.scrollWidth > el.clientWidth;\n}\nfunction scrollIntoView(el, options) {\n  const {\n    rootEl,\n    ...scrollOptions\n  } = options || {};\n  if (!el || !rootEl) return;\n  if (!isOverflowElement(rootEl) || !isScrollable(rootEl)) return;\n  el.scrollIntoView(scrollOptions);\n}\nfunction getScrollPosition(element) {\n  if (isHTMLElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.scrollX,\n    scrollTop: element.scrollY\n  };\n}\n\n// src/point.ts\nfunction getRelativePoint(point, element) {\n  const {\n    left,\n    top,\n    width,\n    height\n  } = element.getBoundingClientRect();\n  const offset = {\n    x: point.x - left,\n    y: point.y - top\n  };\n  const percent = {\n    x: clamp(offset.x / width),\n    y: clamp(offset.y / height)\n  };\n  function getPercentValue(options = {}) {\n    const {\n      dir = \"ltr\",\n      orientation = \"horizontal\",\n      inverted\n    } = options;\n    const invertX = typeof inverted === \"object\" ? inverted.x : inverted;\n    const invertY = typeof inverted === \"object\" ? inverted.y : inverted;\n    if (orientation === \"horizontal\") {\n      return dir === \"rtl\" || invertX ? 1 - percent.x : percent.x;\n    }\n    return invertY ? 1 - percent.y : percent.y;\n  }\n  return {\n    offset,\n    percent,\n    getPercentValue\n  };\n}\n\n// src/pointer-lock.ts\nfunction requestPointerLock(doc, fn) {\n  const body = doc.body;\n  const supported = \"pointerLockElement\" in doc || \"mozPointerLockElement\" in doc;\n  const isLocked = () => !!doc.pointerLockElement;\n  function onPointerChange() {\n    fn?.(isLocked());\n  }\n  function onPointerError(event) {\n    if (isLocked()) fn?.(false);\n    console.error(\"PointerLock error occurred:\", event);\n    doc.exitPointerLock();\n  }\n  if (!supported) return;\n  try {\n    body.requestPointerLock();\n  } catch {}\n  const cleanup = [addDomEvent(doc, \"pointerlockchange\", onPointerChange, false), addDomEvent(doc, \"pointerlockerror\", onPointerError, false)];\n  return () => {\n    cleanup.forEach(cleanup2 => cleanup2());\n    doc.exitPointerLock();\n  };\n}\n\n// src/text-selection.ts\nvar state = \"default\";\nvar userSelect = \"\";\nvar elementMap = /* @__PURE__ */new WeakMap();\nfunction disableTextSelectionImpl(options = {}) {\n  const {\n    target,\n    doc\n  } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state === \"default\") {\n      userSelect = rootEl.style.webkitUserSelect;\n      rootEl.style.webkitUserSelect = \"none\";\n    }\n    state = \"disabled\";\n  } else if (target) {\n    elementMap.set(target, target.style.userSelect);\n    target.style.userSelect = \"none\";\n  }\n  return () => restoreTextSelection({\n    target,\n    doc: docNode\n  });\n}\nfunction restoreTextSelection(options = {}) {\n  const {\n    target,\n    doc\n  } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state !== \"disabled\") return;\n    state = \"restoring\";\n    setTimeout(() => {\n      nextTick(() => {\n        if (state === \"restoring\") {\n          if (rootEl.style.webkitUserSelect === \"none\") {\n            rootEl.style.webkitUserSelect = userSelect || \"\";\n          }\n          userSelect = \"\";\n          state = \"default\";\n        }\n      });\n    }, 300);\n  } else {\n    if (target && elementMap.has(target)) {\n      const prevUserSelect = elementMap.get(target);\n      if (target.style.userSelect === \"none\") {\n        target.style.userSelect = prevUserSelect ?? \"\";\n      }\n      if (target.getAttribute(\"style\") === \"\") {\n        target.removeAttribute(\"style\");\n      }\n      elementMap.delete(target);\n    }\n  }\n}\nfunction disableTextSelection(options = {}) {\n  const {\n    defer,\n    target,\n    ...restOptions\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups2 = [];\n  cleanups2.push(func(() => {\n    const node = typeof target === \"function\" ? target() : target;\n    cleanups2.push(disableTextSelectionImpl({\n      ...restOptions,\n      target: node\n    }));\n  }));\n  return () => {\n    cleanups2.forEach(fn => fn?.());\n  };\n}\n\n// src/pointer-move.ts\nfunction trackPointerMove(doc, handlers) {\n  const {\n    onPointerMove,\n    onPointerUp\n  } = handlers;\n  const handleMove = event => {\n    const point = getEventPoint(event);\n    const distance = Math.sqrt(point.x ** 2 + point.y ** 2);\n    const moveBuffer = event.pointerType === \"touch\" ? 10 : 5;\n    if (distance < moveBuffer) return;\n    if (event.pointerType === \"mouse\" && event.button === 0) {\n      onPointerUp();\n      return;\n    }\n    onPointerMove({\n      point,\n      event\n    });\n  };\n  const cleanups2 = [addDomEvent(doc, \"pointermove\", handleMove, false), addDomEvent(doc, \"pointerup\", onPointerUp, false), addDomEvent(doc, \"pointercancel\", onPointerUp, false), addDomEvent(doc, \"contextmenu\", onPointerUp, false), disableTextSelection({\n    doc\n  })];\n  return () => {\n    cleanups2.forEach(cleanup => cleanup());\n  };\n}\n\n// src/press.ts\nfunction trackPress(options) {\n  const {\n    pointerNode,\n    keyboardNode = pointerNode,\n    onPress,\n    onPressStart,\n    onPressEnd,\n    isValidKey = e => e.key === \"Enter\"\n  } = options;\n  if (!pointerNode) return noop;\n  const win = getWindow(pointerNode);\n  const doc = getDocument(pointerNode);\n  let removeStartListeners = noop;\n  let removeEndListeners = noop;\n  let removeAccessibleListeners = noop;\n  const getInfo = event => ({\n    point: getEventPoint(event),\n    event\n  });\n  function startPress(event) {\n    onPressStart?.(getInfo(event));\n  }\n  function cancelPress(event) {\n    onPressEnd?.(getInfo(event));\n  }\n  const startPointerPress = startEvent => {\n    removeEndListeners();\n    const endPointerPress = endEvent => {\n      const target = getEventTarget(endEvent);\n      if (contains(pointerNode, target)) {\n        onPress?.(getInfo(endEvent));\n      } else {\n        onPressEnd?.(getInfo(endEvent));\n      }\n    };\n    const removePointerUpListener = addDomEvent(win, \"pointerup\", endPointerPress, {\n      passive: !onPress\n    });\n    const removePointerCancelListener = addDomEvent(win, \"pointercancel\", cancelPress, {\n      passive: !onPressEnd\n    });\n    removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n    if (doc.activeElement === keyboardNode && startEvent.pointerType === \"mouse\") {\n      startEvent.preventDefault();\n    }\n    startPress(startEvent);\n  };\n  const removePointerListener = addDomEvent(pointerNode, \"pointerdown\", startPointerPress, {\n    passive: !onPressStart\n  });\n  const removeFocusListener = addDomEvent(keyboardNode, \"focus\", startAccessiblePress);\n  removeStartListeners = pipe(removePointerListener, removeFocusListener);\n  function startAccessiblePress() {\n    const handleKeydown = keydownEvent => {\n      if (!isValidKey(keydownEvent)) return;\n      const handleKeyup = keyupEvent => {\n        if (!isValidKey(keyupEvent)) return;\n        const evt2 = new win.PointerEvent(\"pointerup\");\n        const info = getInfo(evt2);\n        onPress?.(info);\n        onPressEnd?.(info);\n      };\n      removeEndListeners();\n      removeEndListeners = addDomEvent(keyboardNode, \"keyup\", handleKeyup);\n      const evt = new win.PointerEvent(\"pointerdown\");\n      startPress(evt);\n    };\n    const handleBlur = () => {\n      const evt = new win.PointerEvent(\"pointercancel\");\n      cancelPress(evt);\n    };\n    const removeKeydownListener = addDomEvent(keyboardNode, \"keydown\", handleKeydown);\n    const removeBlurListener = addDomEvent(keyboardNode, \"blur\", handleBlur);\n    removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n  }\n  return () => {\n    removeStartListeners();\n    removeEndListeners();\n    removeAccessibleListeners();\n  };\n}\n\n// src/proxy-tab-focus.ts\nfunction proxyTabFocusImpl(container, options = {}) {\n  const {\n    triggerElement,\n    onFocus\n  } = options;\n  const doc = container?.ownerDocument || document;\n  const body = doc.body;\n  function onKeyDown(event) {\n    if (event.key !== \"Tab\") return;\n    let elementToFocus = null;\n    const [firstTabbable, lastTabbable] = getTabbableEdges(container, true);\n    const noTabbableElements = !firstTabbable && !lastTabbable;\n    if (event.shiftKey && (doc.activeElement === firstTabbable || noTabbableElements)) {\n      elementToFocus = triggerElement;\n    } else if (!event.shiftKey && doc.activeElement === triggerElement) {\n      elementToFocus = firstTabbable;\n    } else if (!event.shiftKey && (doc.activeElement === lastTabbable || noTabbableElements)) {\n      elementToFocus = getNextTabbable(body, triggerElement);\n    }\n    if (!elementToFocus) return;\n    event.preventDefault();\n    if (typeof onFocus === \"function\") {\n      onFocus(elementToFocus);\n    } else {\n      elementToFocus.focus();\n    }\n  }\n  return addDomEvent(doc, \"keydown\", onKeyDown, true);\n}\nfunction proxyTabFocus(container, options) {\n  const {\n    defer,\n    triggerElement,\n    ...restOptions\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups2 = [];\n  cleanups2.push(func(() => {\n    const node = typeof container === \"function\" ? container() : container;\n    const trigger = typeof triggerElement === \"function\" ? triggerElement() : triggerElement;\n    cleanups2.push(proxyTabFocusImpl(node, {\n      triggerElement: trigger,\n      ...restOptions\n    }));\n  }));\n  return () => {\n    cleanups2.forEach(fn => fn?.());\n  };\n}\n\n// src/query.ts\nfunction queryAll(root, selector) {\n  return Array.from(root?.querySelectorAll(selector) ?? []);\n}\nfunction query(root, selector) {\n  return root?.querySelector(selector) ?? null;\n}\nvar defaultItemToId = v => v.id;\nfunction itemById(v, id, itemToId = defaultItemToId) {\n  return v.find(item => itemToId(item) === id);\n}\nfunction indexOfId(v, id, itemToId = defaultItemToId) {\n  const item = itemById(v, id, itemToId);\n  return item ? v.indexOf(item) : -1;\n}\nfunction nextById(v, id, loop = true) {\n  let idx = indexOfId(v, id);\n  idx = loop ? (idx + 1) % v.length : Math.min(idx + 1, v.length - 1);\n  return v[idx];\n}\nfunction prevById(v, id, loop = true) {\n  let idx = indexOfId(v, id);\n  if (idx === -1) return loop ? v[v.length - 1] : null;\n  idx = loop ? (idx - 1 + v.length) % v.length : Math.max(0, idx - 1);\n  return v[idx];\n}\n\n// src/scope.ts\nfunction createScope(methods) {\n  const dom = {\n    getRootNode: ctx => ctx.getRootNode?.() ?? document,\n    getDoc: ctx => getDocument(dom.getRootNode(ctx)),\n    getWin: ctx => dom.getDoc(ctx).defaultView ?? window,\n    getActiveElement: ctx => getActiveElement(dom.getRootNode(ctx)),\n    isActiveElement: (ctx, elem) => elem === dom.getActiveElement(ctx),\n    getById: (ctx, id) => dom.getRootNode(ctx).getElementById(id),\n    setValue: (elem, value) => {\n      if (elem == null || value == null) return;\n      const valueAsString = value.toString();\n      if (elem.value === valueAsString) return;\n      elem.value = value.toString();\n    }\n  };\n  return {\n    ...dom,\n    ...methods\n  };\n}\n\n// src/searchable.ts\nvar sanitize = str => str.split(\"\").map(char => {\n  const code = char.charCodeAt(0);\n  if (code > 0 && code < 128) return char;\n  if (code >= 128 && code <= 255) return `/x${code.toString(16)}`.replace(\"/\", \"\\\\\");\n  return \"\";\n}).join(\"\").trim();\nvar getValueText = el => {\n  return sanitize(el.dataset?.valuetext ?? el.textContent ?? \"\");\n};\nvar match = (valueText, query2) => {\n  return valueText.trim().toLowerCase().startsWith(query2.toLowerCase());\n};\nfunction getByText(v, text, currentId, itemToId = defaultItemToId) {\n  const index = currentId ? indexOfId(v, currentId, itemToId) : -1;\n  let items = currentId ? wrap(v, index) : v;\n  const isSingleKey = text.length === 1;\n  if (isSingleKey) {\n    items = items.filter(item => itemToId(item) !== currentId);\n  }\n  return items.find(item => match(getValueText(item), text));\n}\n\n// src/set.ts\nvar cleanups = /* @__PURE__ */new WeakMap();\nfunction set(element, key, setup) {\n  if (!cleanups.has(element)) {\n    cleanups.set(element, /* @__PURE__ */new Map());\n  }\n  const elementCleanups = cleanups.get(element);\n  const prevCleanup = elementCleanups.get(key);\n  if (!prevCleanup) {\n    elementCleanups.set(key, setup());\n    return () => {\n      elementCleanups.get(key)?.();\n      elementCleanups.delete(key);\n    };\n  }\n  const cleanup = setup();\n  const nextCleanup = () => {\n    cleanup();\n    prevCleanup();\n    elementCleanups.delete(key);\n  };\n  elementCleanups.set(key, nextCleanup);\n  return () => {\n    const isCurrent = elementCleanups.get(key) === nextCleanup;\n    if (!isCurrent) return;\n    cleanup();\n    elementCleanups.set(key, prevCleanup);\n  };\n}\nfunction setAttribute(element, attr, value) {\n  const setup = () => {\n    const previousValue = element.getAttribute(attr);\n    element.setAttribute(attr, value);\n    return () => {\n      if (previousValue == null) {\n        element.removeAttribute(attr);\n      } else {\n        element.setAttribute(attr, previousValue);\n      }\n    };\n  };\n  return set(element, attr, setup);\n}\nfunction setProperty(element, property, value) {\n  const setup = () => {\n    const exists = property in element;\n    const previousValue = element[property];\n    element[property] = value;\n    return () => {\n      if (!exists) {\n        delete element[property];\n      } else {\n        element[property] = previousValue;\n      }\n    };\n  };\n  return set(element, property, setup);\n}\nfunction setStyle(element, style) {\n  if (!element) return () => {};\n  const setup = () => {\n    const prevStyle = element.style.cssText;\n    Object.assign(element.style, style);\n    return () => {\n      element.style.cssText = prevStyle;\n    };\n  };\n  return set(element, \"style\", setup);\n}\n\n// src/typeahead.ts\nfunction getByTypeaheadImpl(baseItems, options) {\n  const {\n    state: state2,\n    activeId,\n    key,\n    timeout = 350,\n    itemToId\n  } = options;\n  const search = state2.keysSoFar + key;\n  const isRepeated = search.length > 1 && Array.from(search).every(char => char === search[0]);\n  const query2 = isRepeated ? search[0] : search;\n  let items = baseItems.slice();\n  const next = getByText(items, query2, activeId, itemToId);\n  function cleanup() {\n    clearTimeout(state2.timer);\n    state2.timer = -1;\n  }\n  function update(value) {\n    state2.keysSoFar = value;\n    cleanup();\n    if (value !== \"\") {\n      state2.timer = +setTimeout(() => {\n        update(\"\");\n        cleanup();\n      }, timeout);\n    }\n  }\n  update(search);\n  return next;\n}\nvar getByTypeahead = /* @__PURE__ */Object.assign(getByTypeaheadImpl, {\n  defaultOptions: {\n    keysSoFar: \"\",\n    timer: -1\n  },\n  isValidEvent: isValidTypeaheadEvent\n});\nfunction isValidTypeaheadEvent(event) {\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey;\n}\n\n// src/visual-viewport.ts\nfunction trackVisualViewport(doc, fn) {\n  const win = doc?.defaultView || window;\n  const onResize = () => {\n    fn?.(getViewportSize(win));\n  };\n  onResize();\n  return addDomEvent(win.visualViewport ?? win, \"resize\", onResize);\n}\nfunction getViewportSize(win) {\n  return {\n    width: win.visualViewport?.width || win.innerWidth,\n    height: win.visualViewport?.height || win.innerHeight\n  };\n}\n\n// src/visually-hidden.ts\nvar visuallyHiddenStyle = {\n  border: \"0\",\n  clip: \"rect(0 0 0 0)\",\n  height: \"1px\",\n  margin: \"-1px\",\n  overflow: \"hidden\",\n  padding: \"0\",\n  position: \"absolute\",\n  width: \"1px\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\"\n};\nfunction setVisuallyHidden(el) {\n  Object.assign(el.style, visuallyHiddenStyle);\n}\n\n// src/wait-for.ts\nvar fps = 1e3 / 60;\nfunction waitForElement(query2, cb) {\n  const el = query2();\n  if (isHTMLElement(el) && el.isConnected) {\n    cb(el);\n    return () => void 0;\n  } else {\n    const timerId = setInterval(() => {\n      const el2 = query2();\n      if (isHTMLElement(el2) && el2.isConnected) {\n        cb(el2);\n        clearInterval(timerId);\n      }\n    }, fps);\n    return () => clearInterval(timerId);\n  }\n}\nfunction waitForElements(queries, cb) {\n  const cleanups2 = [];\n  queries?.forEach(query2 => {\n    const clean = waitForElement(query2, cb);\n    cleanups2.push(clean);\n  });\n  return () => {\n    cleanups2.forEach(fn => fn());\n  };\n}\nexport { MAX_Z_INDEX, addDomEvent, ariaAttr, clickIfLink, contains, createScope, dataAttr, defaultItemToId, disableTextSelection, getActiveElement, getBeforeInputValue, getByText, getByTypeahead, getComputedStyle, getDataUrl, getDocument, getDocumentElement, getEventKey, getEventPoint, getEventStep, getEventTarget, getFirstFocusable, getFirstTabbable, getFocusables, getInitialFocus, getLastTabbable, getNativeEvent, getNearestOverflowAncestor, getNextTabbable, getNodeName, getOverflowAncestors, getParentNode, getPlatform, getRelativePoint, getScrollPosition, getTabIndex, getTabbableEdges, getTabbables, getUserAgent, getWindow, indexOfId, isAnchorElement, isAndroid, isApple, isComposingEvent, isContextMenuEvent, isDocument, isDom, isDownloadingEvent, isEditableElement, isElementVisible, isFirefox, isFocusable, isHTMLElement, isInView, isInputElement, isIos, isKeyboardClick, isLeftClick, isMac, isModifierKey, isNode, isOpeningInNewTab, isOverflowElement, isPrintableKey, isRootElement, isSafari, isSelfTarget, isShadowRoot, isTabbable, isTouchDevice, isTouchEvent, isValidTabEvent, isVirtualClick, isVirtualPointerEvent, isVisualViewport, isWebKit, isWindow, itemById, nextById, nextTick, observeAttributes, observeChildren, prevById, proxyTabFocus, query, queryAll, queueBeforeEvent, raf, requestPointerLock, restoreTextSelection, scrollIntoView, setAttribute, setProperty, setStyle, setVisuallyHidden, trackPointerMove, trackPress, trackVisualViewport, visuallyHiddenStyle, waitForElement, waitForElements };","map":{"version":3,"names":["clamp","value","Math","max","min","wrap","v","idx","map","_","index","length","pipe","fns","arg","reduce","acc","fn","noop","isObject","MAX_Z_INDEX","dataAttr","guard","ariaAttr","ELEMENT_NODE","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","isHTMLElement","el","nodeType","nodeName","isDocument","isWindow","window","isVisualViewport","constructor","name","getNodeName","node","localName","isRootElement","includes","isNode","isShadowRoot","isInputElement","isAnchorElement","matches","isElementVisible","offsetWidth","offsetHeight","getClientRects","TEXTAREA_SELECT_REGEX","isEditableElement","selectionStart","test","isContentEditable","getAttribute","contains","parent","child","rootNode","getRootNode","next","parentNode","host","getDocument","document","ownerDocument","getDocumentElement","documentElement","getWindow","defaultView","getActiveElement","activeElement","shadowRoot","getParentNode","result","assignedSlot","styleCache","WeakMap","getComputedStyle","has","set","get","getDataUrl","svg","opts","type","quality","background","Error","win","doc","svgBounds","getBoundingClientRect","svgClone","cloneNode","hasAttribute","setAttribute","width","height","serializer","XMLSerializer","source","serializeToString","svgString","encodeURIComponent","Promise","resolve","then","str","remove","dpr","devicePixelRatio","canvas","createElement","image","Image","src","context","getContext","fillStyle","fillRect","onload","drawImage","toDataURL","isDom","getPlatform","agent","navigator","userAgentData","platform","getUserAgent","ua2","Array","isArray","brands","brand","version","join","userAgent","pt","ua","vn","vendor","isTouchDevice","maxTouchPoints","isMac","isSafari","isApple","isFirefox","isIos","isWebKit","isAndroid","re","getBeforeInputValue","event","selectionEnd","currentTarget","slice","data","getComposedPath","composedPath","nativeEvent","getEventTarget","target","isSelfTarget","isOpeningInNewTab","element","isAppleDevice","metaKey","ctrlKey","isDownloadingEvent","altKey","isComposingEvent","getNativeEvent","isComposing","isKeyboardClick","e","detail","clientX","clientY","isPrintableKey","key","isVirtualPointerEvent","pressure","pointerType","isVirtualClick","mozInputSource","isTrusted","buttons","isLeftClick","button","isContextMenuEvent","isModifierKey","isTouchEvent","touches","keyMap","Up","Down","Esc","Left","Right","rtlKeyMap","ArrowLeft","ArrowRight","getEventKey","options","dir","orientation","isRtl","pageKeys","Set","arrowKeys","getEventStep","isPageKey","isSkipKey","shiftKey","getEventPoint","point","changedTouches","x","y","addDomEvent","eventName","handler","addEventListener","removeEventListener","isFrame","tagName","hasTabIndex","Number","isNaN","parseInt","hasNegativeTabIndex","focusableSelector","getFocusables","container","includeContainer","elements","from","querySelectorAll","include","isFocusable","unshift","focusableElements","filter","forEach","i","contentDocument","frameBody","body","splice","closest","getFirstFocusable","first","getTabbables","tabbableElements","isTabbable","allFrameTabbable","tabIndex","getFirstTabbable","getLastTabbable","getTabbableEdges","last","getNextTabbable","current","tabbables","currentElement","indexOf","getTabIndex","getInitialFocus","root","getInitialEl","enabled","querySelector","isValidTabEvent","firstTabbable","lastTabbable","nextTick","set2","raf2","fn2","id","globalThis","requestAnimationFrame","add","cancelAnimationFrame","cleanup","raf","queueBeforeEvent","cb","cancelTimer","exec","once","capture","observeAttributesImpl","attributes","callback","obs","MutationObserver","changes","change","attributeName","observe","attributeFilter","disconnect","observeAttributes","nodeOrFn","defer","func","cleanups2","push","observeChildrenImpl","childList","subtree","observeChildren","clickIfLink","click","queueMicrotask","getNearestOverflowAncestor","isOverflowElement","getOverflowAncestors","list","scrollableAncestor","isBody","concat","visualViewport","getElementRect","top","left","bottom","right","innerHeight","innerWidth","isInView","ancestor","ancestorRect","elRect","OVERFLOW_RE","overflow","overflowX","overflowY","display","isScrollable","scrollHeight","clientHeight","scrollWidth","clientWidth","scrollIntoView","rootEl","scrollOptions","getScrollPosition","scrollLeft","scrollTop","scrollX","scrollY","getRelativePoint","offset","percent","getPercentValue","inverted","invertX","invertY","requestPointerLock","supported","isLocked","pointerLockElement","onPointerChange","onPointerError","console","error","exitPointerLock","cleanup2","state","userSelect","elementMap","disableTextSelectionImpl","docNode","style","webkitUserSelect","restoreTextSelection","setTimeout","prevUserSelect","removeAttribute","delete","disableTextSelection","restOptions","trackPointerMove","handlers","onPointerMove","onPointerUp","handleMove","distance","sqrt","moveBuffer","trackPress","pointerNode","keyboardNode","onPress","onPressStart","onPressEnd","isValidKey","removeStartListeners","removeEndListeners","removeAccessibleListeners","getInfo","startPress","cancelPress","startPointerPress","startEvent","endPointerPress","endEvent","removePointerUpListener","passive","removePointerCancelListener","preventDefault","removePointerListener","removeFocusListener","startAccessiblePress","handleKeydown","keydownEvent","handleKeyup","keyupEvent","evt2","PointerEvent","info","evt","handleBlur","removeKeydownListener","removeBlurListener","proxyTabFocusImpl","triggerElement","onFocus","onKeyDown","elementToFocus","noTabbableElements","focus","proxyTabFocus","trigger","queryAll","selector","query","defaultItemToId","itemById","itemToId","find","item","indexOfId","nextById","loop","prevById","createScope","methods","dom","ctx","getDoc","getWin","isActiveElement","elem","getById","getElementById","setValue","valueAsString","toString","sanitize","split","char","code","charCodeAt","replace","trim","getValueText","dataset","valuetext","textContent","match","valueText","query2","toLowerCase","startsWith","getByText","text","currentId","items","isSingleKey","cleanups","setup","Map","elementCleanups","prevCleanup","nextCleanup","isCurrent","attr","previousValue","setProperty","property","exists","setStyle","prevStyle","cssText","Object","assign","getByTypeaheadImpl","baseItems","state2","activeId","timeout","search","keysSoFar","isRepeated","every","clearTimeout","timer","update","getByTypeahead","defaultOptions","isValidEvent","isValidTypeaheadEvent","trackVisualViewport","onResize","getViewportSize","visuallyHiddenStyle","border","clip","margin","padding","position","whiteSpace","wordWrap","setVisuallyHidden","fps","waitForElement","isConnected","timerId","setInterval","el2","clearInterval","waitForElements","queries","clean"],"sources":["/Users/shubhamkharage/Desktop/clinical-ai/node_modules/@zag-js/dom-query/dist/index.mjs"],"sourcesContent":["// src/shared.ts\nvar clamp = (value) => Math.max(0, Math.min(1, value));\nvar wrap = (v, idx) => {\n  return v.map((_, index) => v[(Math.max(idx, 0) + index) % v.length]);\n};\nvar pipe = (...fns) => (arg) => fns.reduce((acc, fn) => fn(acc), arg);\nvar noop = () => void 0;\nvar isObject = (v) => typeof v === \"object\" && v !== null;\nvar MAX_Z_INDEX = 2147483647;\nvar dataAttr = (guard) => guard ? \"\" : void 0;\nvar ariaAttr = (guard) => guard ? \"true\" : void 0;\n\n// src/node.ts\nvar ELEMENT_NODE = 1;\nvar DOCUMENT_NODE = 9;\nvar DOCUMENT_FRAGMENT_NODE = 11;\nvar isHTMLElement = (el) => isObject(el) && el.nodeType === ELEMENT_NODE && typeof el.nodeName === \"string\";\nvar isDocument = (el) => isObject(el) && el.nodeType === DOCUMENT_NODE;\nvar isWindow = (el) => isObject(el) && el === el.window;\nvar isVisualViewport = (el) => isObject(el) && el.constructor.name === \"VisualViewport\";\nvar getNodeName = (node) => {\n  if (isHTMLElement(node)) return node.localName || \"\";\n  return \"#document\";\n};\nfunction isRootElement(node) {\n  return [\"html\", \"body\", \"#document\"].includes(getNodeName(node));\n}\nvar isNode = (el) => isObject(el) && el.nodeType !== void 0;\nvar isShadowRoot = (el) => isNode(el) && el.nodeType === DOCUMENT_FRAGMENT_NODE && \"host\" in el;\nvar isInputElement = (el) => isHTMLElement(el) && el.localName === \"input\";\nvar isAnchorElement = (el) => !!el?.matches(\"a[href]\");\nvar isElementVisible = (el) => {\n  if (!isHTMLElement(el)) return false;\n  return el.offsetWidth > 0 || el.offsetHeight > 0 || el.getClientRects().length > 0;\n};\nvar TEXTAREA_SELECT_REGEX = /(textarea|select)/;\nfunction isEditableElement(el) {\n  if (el == null || !isHTMLElement(el)) return false;\n  try {\n    return isInputElement(el) && el.selectionStart != null || TEXTAREA_SELECT_REGEX.test(el.localName) || el.isContentEditable || el.getAttribute(\"contenteditable\") === \"true\" || el.getAttribute(\"contenteditable\") === \"\";\n  } catch {\n    return false;\n  }\n}\nfunction contains(parent, child) {\n  if (!parent || !child) return false;\n  if (!isHTMLElement(parent) || !isHTMLElement(child)) return false;\n  const rootNode = child.getRootNode?.();\n  if (parent === child) return true;\n  if (parent.contains(child)) return true;\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) return true;\n      next = next.parentNode || next.host;\n    }\n  }\n  return false;\n}\nfunction getDocument(el) {\n  if (isDocument(el)) return el;\n  if (isWindow(el)) return el.document;\n  return el?.ownerDocument ?? document;\n}\nfunction getDocumentElement(el) {\n  return getDocument(el).documentElement;\n}\nfunction getWindow(el) {\n  if (isShadowRoot(el)) return getWindow(el.host);\n  if (isDocument(el)) return el.defaultView ?? window;\n  if (isHTMLElement(el)) return el.ownerDocument?.defaultView ?? window;\n  return window;\n}\nfunction getActiveElement(rootNode) {\n  let activeElement = rootNode.activeElement;\n  while (activeElement?.shadowRoot) {\n    const el = activeElement.shadowRoot.activeElement;\n    if (el === activeElement) break;\n    else activeElement = el;\n  }\n  return activeElement;\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === \"html\") return node;\n  const result = node.assignedSlot || node.parentNode || isShadowRoot(node) && node.host || getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\n\n// src/computed-style.ts\nvar styleCache = /* @__PURE__ */ new WeakMap();\nfunction getComputedStyle(el) {\n  if (!styleCache.has(el)) {\n    styleCache.set(el, getWindow(el).getComputedStyle(el));\n  }\n  return styleCache.get(el);\n}\n\n// src/data-url.ts\nfunction getDataUrl(svg, opts) {\n  const { type, quality = 0.92, background } = opts;\n  if (!svg) throw new Error(\"[zag-js > getDataUrl]: Could not find the svg element\");\n  const win = getWindow(svg);\n  const doc = win.document;\n  const svgBounds = svg.getBoundingClientRect();\n  const svgClone = svg.cloneNode(true);\n  if (!svgClone.hasAttribute(\"viewBox\")) {\n    svgClone.setAttribute(\"viewBox\", `0 0 ${svgBounds.width} ${svgBounds.height}`);\n  }\n  const serializer = new win.XMLSerializer();\n  const source = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + serializer.serializeToString(svgClone);\n  const svgString = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(source);\n  if (type === \"image/svg+xml\") {\n    return Promise.resolve(svgString).then((str) => {\n      svgClone.remove();\n      return str;\n    });\n  }\n  const dpr = win.devicePixelRatio || 1;\n  const canvas = doc.createElement(\"canvas\");\n  const image = new win.Image();\n  image.src = svgString;\n  canvas.width = svgBounds.width * dpr;\n  canvas.height = svgBounds.height * dpr;\n  const context = canvas.getContext(\"2d\");\n  if (type === \"image/jpeg\" || background) {\n    context.fillStyle = background || \"white\";\n    context.fillRect(0, 0, canvas.width, canvas.height);\n  }\n  return new Promise((resolve) => {\n    image.onload = () => {\n      context?.drawImage(image, 0, 0, canvas.width, canvas.height);\n      resolve(canvas.toDataURL(type, quality));\n      svgClone.remove();\n    };\n  });\n}\n\n// src/platform.ts\nvar isDom = () => typeof document !== \"undefined\";\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return agent?.platform ?? navigator.platform;\n}\nfunction getUserAgent() {\n  const ua2 = navigator.userAgentData;\n  if (ua2 && Array.isArray(ua2.brands)) {\n    return ua2.brands.map(({ brand, version }) => `${brand}/${version}`).join(\" \");\n  }\n  return navigator.userAgent;\n}\nvar pt = (v) => isDom() && v.test(getPlatform());\nvar ua = (v) => isDom() && v.test(getUserAgent());\nvar vn = (v) => isDom() && v.test(navigator.vendor);\nvar isTouchDevice = () => isDom() && !!navigator.maxTouchPoints;\nvar isMac = () => pt(/^Mac/);\nvar isSafari = () => isApple() && vn(/apple/i);\nvar isFirefox = () => ua(/firefox\\//i);\nvar isApple = () => pt(/mac|iphone|ipad|ipod/i);\nvar isIos = () => pt(/iP(hone|ad|od)|iOS/);\nvar isWebKit = () => ua(/AppleWebKit/);\nvar isAndroid = () => {\n  const re = /android/i;\n  return pt(re) || ua(re);\n};\n\n// src/event.ts\nfunction getBeforeInputValue(event) {\n  const { selectionStart, selectionEnd, value } = event.currentTarget;\n  return value.slice(0, selectionStart) + event.data + value.slice(selectionEnd);\n}\nfunction getComposedPath(event) {\n  return event.composedPath?.() ?? event.nativeEvent?.composedPath?.();\n}\nfunction getEventTarget(event) {\n  const composedPath = getComposedPath(event);\n  return composedPath?.[0] ?? event.target;\n}\nvar isSelfTarget = (event) => {\n  return contains(event.currentTarget, getEventTarget(event));\n};\nfunction isOpeningInNewTab(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const isAppleDevice = isApple();\n  if (isAppleDevice && !event.metaKey) return false;\n  if (!isAppleDevice && !event.ctrlKey) return false;\n  const localName = element.localName;\n  if (localName === \"a\") return true;\n  if (localName === \"button\" && element.type === \"submit\") return true;\n  if (localName === \"input\" && element.type === \"submit\") return true;\n  return false;\n}\nfunction isDownloadingEvent(event) {\n  const element = event.currentTarget;\n  if (!element) return false;\n  const localName = element.localName;\n  if (!event.altKey) return false;\n  if (localName === \"a\") return true;\n  if (localName === \"button\" && element.type === \"submit\") return true;\n  if (localName === \"input\" && element.type === \"submit\") return true;\n  return false;\n}\nfunction isComposingEvent(event) {\n  return getNativeEvent(event).isComposing;\n}\nfunction isKeyboardClick(e) {\n  return e.detail === 0 || e.clientX === 0 && e.clientY === 0;\n}\nfunction isPrintableKey(e) {\n  return e.key.length === 1 && !e.ctrlKey && !e.metaKey;\n}\nfunction isVirtualPointerEvent(e) {\n  return e.width === 0 && e.height === 0 || e.width === 1 && e.height === 1 && e.pressure === 0 && e.detail === 0 && e.pointerType === \"mouse\";\n}\nfunction isVirtualClick(e) {\n  if (e.mozInputSource === 0 && e.isTrusted) return true;\n  if (isAndroid() && e.pointerType) {\n    return e.type === \"click\" && e.buttons === 1;\n  }\n  return e.detail === 0 && !e.pointerType;\n}\nvar isLeftClick = (e) => e.button === 0;\nvar isContextMenuEvent = (e) => {\n  return e.button === 2 || isMac() && e.ctrlKey && e.button === 0;\n};\nvar isModifierKey = (e) => e.ctrlKey || e.altKey || e.metaKey;\nvar isTouchEvent = (event) => \"touches\" in event && event.touches.length > 0;\nvar keyMap = {\n  Up: \"ArrowUp\",\n  Down: \"ArrowDown\",\n  Esc: \"Escape\",\n  \" \": \"Space\",\n  \",\": \"Comma\",\n  Left: \"ArrowLeft\",\n  Right: \"ArrowRight\"\n};\nvar rtlKeyMap = {\n  ArrowLeft: \"ArrowRight\",\n  ArrowRight: \"ArrowLeft\"\n};\nfunction getEventKey(event, options = {}) {\n  const { dir = \"ltr\", orientation = \"horizontal\" } = options;\n  let key = event.key;\n  key = keyMap[key] ?? key;\n  const isRtl = dir === \"rtl\" && orientation === \"horizontal\";\n  if (isRtl && key in rtlKeyMap) key = rtlKeyMap[key];\n  return key;\n}\nfunction getNativeEvent(event) {\n  return event.nativeEvent ?? event;\n}\nvar pageKeys = /* @__PURE__ */ new Set([\"PageUp\", \"PageDown\"]);\nvar arrowKeys = /* @__PURE__ */ new Set([\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"]);\nfunction getEventStep(event) {\n  if (event.ctrlKey || event.metaKey) {\n    return 0.1;\n  } else {\n    const isPageKey = pageKeys.has(event.key);\n    const isSkipKey = isPageKey || event.shiftKey && arrowKeys.has(event.key);\n    return isSkipKey ? 10 : 1;\n  }\n}\nfunction getEventPoint(event, type = \"client\") {\n  const point = isTouchEvent(event) ? event.touches[0] || event.changedTouches[0] : event;\n  return { x: point[`${type}X`], y: point[`${type}Y`] };\n}\nvar addDomEvent = (target, eventName, handler, options) => {\n  const node = typeof target === \"function\" ? target() : target;\n  node?.addEventListener(eventName, handler, options);\n  return () => {\n    node?.removeEventListener(eventName, handler, options);\n  };\n};\n\n// src/tabbable.ts\nvar isFrame = (el) => isHTMLElement(el) && el.tagName === \"IFRAME\";\nvar hasTabIndex = (el) => !Number.isNaN(parseInt(el.getAttribute(\"tabindex\") || \"0\", 10));\nvar hasNegativeTabIndex = (el) => parseInt(el.getAttribute(\"tabindex\") || \"0\", 10) < 0;\nvar focusableSelector = \"input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type\";\nvar getFocusables = (container, includeContainer = false) => {\n  if (!container) return [];\n  const elements = Array.from(container.querySelectorAll(focusableSelector));\n  const include = includeContainer == true || includeContainer == \"if-empty\" && elements.length === 0;\n  if (include && isHTMLElement(container) && isFocusable(container)) {\n    elements.unshift(container);\n  }\n  const focusableElements = elements.filter(isFocusable);\n  focusableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      focusableElements.splice(i, 1, ...getFocusables(frameBody));\n    }\n  });\n  return focusableElements;\n};\nfunction isFocusable(element) {\n  if (!element || element.closest(\"[inert]\")) return false;\n  return element.matches(focusableSelector) && isElementVisible(element);\n}\nfunction getFirstFocusable(container, includeContainer) {\n  const [first] = getFocusables(container, includeContainer);\n  return first || null;\n}\nfunction getTabbables(container, includeContainer) {\n  if (!container) return [];\n  const elements = Array.from(container.querySelectorAll(focusableSelector));\n  const tabbableElements = elements.filter(isTabbable);\n  if (includeContainer && isTabbable(container)) {\n    tabbableElements.unshift(container);\n  }\n  tabbableElements.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      const allFrameTabbable = getTabbables(frameBody);\n      tabbableElements.splice(i, 1, ...allFrameTabbable);\n    }\n  });\n  if (!tabbableElements.length && includeContainer) {\n    return elements;\n  }\n  return tabbableElements;\n}\nfunction isTabbable(el) {\n  if (el != null && el.tabIndex > 0) return true;\n  return isFocusable(el) && !hasNegativeTabIndex(el);\n}\nfunction getFirstTabbable(container, includeContainer) {\n  const [first] = getTabbables(container, includeContainer);\n  return first || null;\n}\nfunction getLastTabbable(container, includeContainer) {\n  const elements = getTabbables(container, includeContainer);\n  return elements[elements.length - 1] || null;\n}\nfunction getTabbableEdges(container, includeContainer) {\n  const elements = getTabbables(container, includeContainer);\n  const first = elements[0] || null;\n  const last = elements[elements.length - 1] || null;\n  return [first, last];\n}\nfunction getNextTabbable(container, current) {\n  const tabbables = getTabbables(container);\n  const doc = container?.ownerDocument || document;\n  const currentElement = current ?? doc.activeElement;\n  if (!currentElement) return null;\n  const index = tabbables.indexOf(currentElement);\n  return tabbables[index + 1] || null;\n}\nfunction getTabIndex(node) {\n  if (node.tabIndex < 0) {\n    if ((/^(audio|video|details)$/.test(node.localName) || isEditableElement(node)) && !hasTabIndex(node)) {\n      return 0;\n    }\n  }\n  return node.tabIndex;\n}\n\n// src/initial-focus.ts\nfunction getInitialFocus(options) {\n  const { root, getInitialEl, filter, enabled = true } = options;\n  if (!enabled) return;\n  let node = null;\n  node || (node = typeof getInitialEl === \"function\" ? getInitialEl() : getInitialEl);\n  node || (node = root?.querySelector(\"[data-autofocus],[autofocus]\"));\n  if (!node) {\n    const tabbables = getTabbables(root);\n    node = filter ? tabbables.filter(filter)[0] : tabbables[0];\n  }\n  return node || root || void 0;\n}\nfunction isValidTabEvent(event) {\n  const container = event.currentTarget;\n  if (!container) return false;\n  const [firstTabbable, lastTabbable] = getTabbableEdges(container);\n  const doc = container.ownerDocument || document;\n  if (doc.activeElement === firstTabbable && event.shiftKey) return false;\n  if (doc.activeElement === lastTabbable && !event.shiftKey) return false;\n  if (!firstTabbable && !lastTabbable) return false;\n  return true;\n}\n\n// src/raf.ts\nfunction nextTick(fn) {\n  const set2 = /* @__PURE__ */ new Set();\n  function raf2(fn2) {\n    const id = globalThis.requestAnimationFrame(fn2);\n    set2.add(() => globalThis.cancelAnimationFrame(id));\n  }\n  raf2(() => raf2(fn));\n  return function cleanup() {\n    set2.forEach((fn2) => fn2());\n  };\n}\nfunction raf(fn) {\n  const id = globalThis.requestAnimationFrame(fn);\n  return () => {\n    globalThis.cancelAnimationFrame(id);\n  };\n}\nfunction queueBeforeEvent(el, type, cb) {\n  const cancelTimer = raf(() => {\n    el.removeEventListener(type, exec, true);\n    cb();\n  });\n  const exec = () => {\n    cancelTimer();\n    cb();\n  };\n  el.addEventListener(type, exec, { once: true, capture: true });\n  return cancelTimer;\n}\n\n// src/mutation-observer.ts\nfunction observeAttributesImpl(node, options) {\n  if (!node) return;\n  const { attributes, callback: fn } = options;\n  const win = node.ownerDocument.defaultView || window;\n  const obs = new win.MutationObserver((changes) => {\n    for (const change of changes) {\n      if (change.type === \"attributes\" && change.attributeName && attributes.includes(change.attributeName)) {\n        fn(change);\n      }\n    }\n  });\n  obs.observe(node, { attributes: true, attributeFilter: attributes });\n  return () => obs.disconnect();\n}\nfunction observeAttributes(nodeOrFn, options) {\n  const { defer } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups2 = [];\n  cleanups2.push(\n    func(() => {\n      const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n      cleanups2.push(observeAttributesImpl(node, options));\n    })\n  );\n  return () => {\n    cleanups2.forEach((fn) => fn?.());\n  };\n}\nfunction observeChildrenImpl(node, options) {\n  const { callback: fn } = options;\n  if (!node) return;\n  const win = node.ownerDocument.defaultView || window;\n  const obs = new win.MutationObserver(fn);\n  obs.observe(node, { childList: true, subtree: true });\n  return () => obs.disconnect();\n}\nfunction observeChildren(nodeOrFn, options) {\n  const { defer } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups2 = [];\n  cleanups2.push(\n    func(() => {\n      const node = typeof nodeOrFn === \"function\" ? nodeOrFn() : nodeOrFn;\n      cleanups2.push(observeChildrenImpl(node, options));\n    })\n  );\n  return () => {\n    cleanups2.forEach((fn) => fn?.());\n  };\n}\n\n// src/navigate.ts\nfunction clickIfLink(el) {\n  const click = () => el.click();\n  if (isFirefox()) {\n    queueBeforeEvent(el, \"keyup\", click);\n  } else {\n    queueMicrotask(click);\n  }\n}\n\n// src/overflow.ts\nfunction getNearestOverflowAncestor(el) {\n  const parentNode = getParentNode(el);\n  if (isRootElement(parentNode)) return getDocument(parentNode).body;\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) return parentNode;\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(el, list = []) {\n  const scrollableAncestor = getNearestOverflowAncestor(el);\n  const isBody = scrollableAncestor === el.ownerDocument.body;\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, []));\n}\nvar getElementRect = (el) => {\n  if (isHTMLElement(el)) return el.getBoundingClientRect();\n  if (isVisualViewport(el)) return { top: 0, left: 0, bottom: el.height, right: el.width };\n  return { top: 0, left: 0, bottom: el.innerHeight, right: el.innerWidth };\n};\nfunction isInView(el, ancestor) {\n  if (!isHTMLElement(el)) return true;\n  const ancestorRect = getElementRect(ancestor);\n  const elRect = el.getBoundingClientRect();\n  return elRect.top >= ancestorRect.top && elRect.left >= ancestorRect.left && elRect.bottom <= ancestorRect.bottom && elRect.right <= ancestorRect.right;\n}\nvar OVERFLOW_RE = /auto|scroll|overlay|hidden|clip/;\nfunction isOverflowElement(el) {\n  const win = getWindow(el);\n  const { overflow, overflowX, overflowY, display } = win.getComputedStyle(el);\n  return OVERFLOW_RE.test(overflow + overflowY + overflowX) && ![\"inline\", \"contents\"].includes(display);\n}\nfunction isScrollable(el) {\n  return el.scrollHeight > el.clientHeight || el.scrollWidth > el.clientWidth;\n}\nfunction scrollIntoView(el, options) {\n  const { rootEl, ...scrollOptions } = options || {};\n  if (!el || !rootEl) return;\n  if (!isOverflowElement(rootEl) || !isScrollable(rootEl)) return;\n  el.scrollIntoView(scrollOptions);\n}\nfunction getScrollPosition(element) {\n  if (isHTMLElement(element)) {\n    return { scrollLeft: element.scrollLeft, scrollTop: element.scrollTop };\n  }\n  return { scrollLeft: element.scrollX, scrollTop: element.scrollY };\n}\n\n// src/point.ts\nfunction getRelativePoint(point, element) {\n  const { left, top, width, height } = element.getBoundingClientRect();\n  const offset = { x: point.x - left, y: point.y - top };\n  const percent = { x: clamp(offset.x / width), y: clamp(offset.y / height) };\n  function getPercentValue(options = {}) {\n    const { dir = \"ltr\", orientation = \"horizontal\", inverted } = options;\n    const invertX = typeof inverted === \"object\" ? inverted.x : inverted;\n    const invertY = typeof inverted === \"object\" ? inverted.y : inverted;\n    if (orientation === \"horizontal\") {\n      return dir === \"rtl\" || invertX ? 1 - percent.x : percent.x;\n    }\n    return invertY ? 1 - percent.y : percent.y;\n  }\n  return { offset, percent, getPercentValue };\n}\n\n// src/pointer-lock.ts\nfunction requestPointerLock(doc, fn) {\n  const body = doc.body;\n  const supported = \"pointerLockElement\" in doc || \"mozPointerLockElement\" in doc;\n  const isLocked = () => !!doc.pointerLockElement;\n  function onPointerChange() {\n    fn?.(isLocked());\n  }\n  function onPointerError(event) {\n    if (isLocked()) fn?.(false);\n    console.error(\"PointerLock error occurred:\", event);\n    doc.exitPointerLock();\n  }\n  if (!supported) return;\n  try {\n    body.requestPointerLock();\n  } catch {\n  }\n  const cleanup = [\n    addDomEvent(doc, \"pointerlockchange\", onPointerChange, false),\n    addDomEvent(doc, \"pointerlockerror\", onPointerError, false)\n  ];\n  return () => {\n    cleanup.forEach((cleanup2) => cleanup2());\n    doc.exitPointerLock();\n  };\n}\n\n// src/text-selection.ts\nvar state = \"default\";\nvar userSelect = \"\";\nvar elementMap = /* @__PURE__ */ new WeakMap();\nfunction disableTextSelectionImpl(options = {}) {\n  const { target, doc } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state === \"default\") {\n      userSelect = rootEl.style.webkitUserSelect;\n      rootEl.style.webkitUserSelect = \"none\";\n    }\n    state = \"disabled\";\n  } else if (target) {\n    elementMap.set(target, target.style.userSelect);\n    target.style.userSelect = \"none\";\n  }\n  return () => restoreTextSelection({ target, doc: docNode });\n}\nfunction restoreTextSelection(options = {}) {\n  const { target, doc } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state !== \"disabled\") return;\n    state = \"restoring\";\n    setTimeout(() => {\n      nextTick(() => {\n        if (state === \"restoring\") {\n          if (rootEl.style.webkitUserSelect === \"none\") {\n            rootEl.style.webkitUserSelect = userSelect || \"\";\n          }\n          userSelect = \"\";\n          state = \"default\";\n        }\n      });\n    }, 300);\n  } else {\n    if (target && elementMap.has(target)) {\n      const prevUserSelect = elementMap.get(target);\n      if (target.style.userSelect === \"none\") {\n        target.style.userSelect = prevUserSelect ?? \"\";\n      }\n      if (target.getAttribute(\"style\") === \"\") {\n        target.removeAttribute(\"style\");\n      }\n      elementMap.delete(target);\n    }\n  }\n}\nfunction disableTextSelection(options = {}) {\n  const { defer, target, ...restOptions } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups2 = [];\n  cleanups2.push(\n    func(() => {\n      const node = typeof target === \"function\" ? target() : target;\n      cleanups2.push(disableTextSelectionImpl({ ...restOptions, target: node }));\n    })\n  );\n  return () => {\n    cleanups2.forEach((fn) => fn?.());\n  };\n}\n\n// src/pointer-move.ts\nfunction trackPointerMove(doc, handlers) {\n  const { onPointerMove, onPointerUp } = handlers;\n  const handleMove = (event) => {\n    const point = getEventPoint(event);\n    const distance = Math.sqrt(point.x ** 2 + point.y ** 2);\n    const moveBuffer = event.pointerType === \"touch\" ? 10 : 5;\n    if (distance < moveBuffer) return;\n    if (event.pointerType === \"mouse\" && event.button === 0) {\n      onPointerUp();\n      return;\n    }\n    onPointerMove({ point, event });\n  };\n  const cleanups2 = [\n    addDomEvent(doc, \"pointermove\", handleMove, false),\n    addDomEvent(doc, \"pointerup\", onPointerUp, false),\n    addDomEvent(doc, \"pointercancel\", onPointerUp, false),\n    addDomEvent(doc, \"contextmenu\", onPointerUp, false),\n    disableTextSelection({ doc })\n  ];\n  return () => {\n    cleanups2.forEach((cleanup) => cleanup());\n  };\n}\n\n// src/press.ts\nfunction trackPress(options) {\n  const {\n    pointerNode,\n    keyboardNode = pointerNode,\n    onPress,\n    onPressStart,\n    onPressEnd,\n    isValidKey = (e) => e.key === \"Enter\"\n  } = options;\n  if (!pointerNode) return noop;\n  const win = getWindow(pointerNode);\n  const doc = getDocument(pointerNode);\n  let removeStartListeners = noop;\n  let removeEndListeners = noop;\n  let removeAccessibleListeners = noop;\n  const getInfo = (event) => ({\n    point: getEventPoint(event),\n    event\n  });\n  function startPress(event) {\n    onPressStart?.(getInfo(event));\n  }\n  function cancelPress(event) {\n    onPressEnd?.(getInfo(event));\n  }\n  const startPointerPress = (startEvent) => {\n    removeEndListeners();\n    const endPointerPress = (endEvent) => {\n      const target = getEventTarget(endEvent);\n      if (contains(pointerNode, target)) {\n        onPress?.(getInfo(endEvent));\n      } else {\n        onPressEnd?.(getInfo(endEvent));\n      }\n    };\n    const removePointerUpListener = addDomEvent(win, \"pointerup\", endPointerPress, { passive: !onPress });\n    const removePointerCancelListener = addDomEvent(win, \"pointercancel\", cancelPress, { passive: !onPressEnd });\n    removeEndListeners = pipe(removePointerUpListener, removePointerCancelListener);\n    if (doc.activeElement === keyboardNode && startEvent.pointerType === \"mouse\") {\n      startEvent.preventDefault();\n    }\n    startPress(startEvent);\n  };\n  const removePointerListener = addDomEvent(pointerNode, \"pointerdown\", startPointerPress, { passive: !onPressStart });\n  const removeFocusListener = addDomEvent(keyboardNode, \"focus\", startAccessiblePress);\n  removeStartListeners = pipe(removePointerListener, removeFocusListener);\n  function startAccessiblePress() {\n    const handleKeydown = (keydownEvent) => {\n      if (!isValidKey(keydownEvent)) return;\n      const handleKeyup = (keyupEvent) => {\n        if (!isValidKey(keyupEvent)) return;\n        const evt2 = new win.PointerEvent(\"pointerup\");\n        const info = getInfo(evt2);\n        onPress?.(info);\n        onPressEnd?.(info);\n      };\n      removeEndListeners();\n      removeEndListeners = addDomEvent(keyboardNode, \"keyup\", handleKeyup);\n      const evt = new win.PointerEvent(\"pointerdown\");\n      startPress(evt);\n    };\n    const handleBlur = () => {\n      const evt = new win.PointerEvent(\"pointercancel\");\n      cancelPress(evt);\n    };\n    const removeKeydownListener = addDomEvent(keyboardNode, \"keydown\", handleKeydown);\n    const removeBlurListener = addDomEvent(keyboardNode, \"blur\", handleBlur);\n    removeAccessibleListeners = pipe(removeKeydownListener, removeBlurListener);\n  }\n  return () => {\n    removeStartListeners();\n    removeEndListeners();\n    removeAccessibleListeners();\n  };\n}\n\n// src/proxy-tab-focus.ts\nfunction proxyTabFocusImpl(container, options = {}) {\n  const { triggerElement, onFocus } = options;\n  const doc = container?.ownerDocument || document;\n  const body = doc.body;\n  function onKeyDown(event) {\n    if (event.key !== \"Tab\") return;\n    let elementToFocus = null;\n    const [firstTabbable, lastTabbable] = getTabbableEdges(container, true);\n    const noTabbableElements = !firstTabbable && !lastTabbable;\n    if (event.shiftKey && (doc.activeElement === firstTabbable || noTabbableElements)) {\n      elementToFocus = triggerElement;\n    } else if (!event.shiftKey && doc.activeElement === triggerElement) {\n      elementToFocus = firstTabbable;\n    } else if (!event.shiftKey && (doc.activeElement === lastTabbable || noTabbableElements)) {\n      elementToFocus = getNextTabbable(body, triggerElement);\n    }\n    if (!elementToFocus) return;\n    event.preventDefault();\n    if (typeof onFocus === \"function\") {\n      onFocus(elementToFocus);\n    } else {\n      elementToFocus.focus();\n    }\n  }\n  return addDomEvent(doc, \"keydown\", onKeyDown, true);\n}\nfunction proxyTabFocus(container, options) {\n  const { defer, triggerElement, ...restOptions } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups2 = [];\n  cleanups2.push(\n    func(() => {\n      const node = typeof container === \"function\" ? container() : container;\n      const trigger = typeof triggerElement === \"function\" ? triggerElement() : triggerElement;\n      cleanups2.push(proxyTabFocusImpl(node, { triggerElement: trigger, ...restOptions }));\n    })\n  );\n  return () => {\n    cleanups2.forEach((fn) => fn?.());\n  };\n}\n\n// src/query.ts\nfunction queryAll(root, selector) {\n  return Array.from(root?.querySelectorAll(selector) ?? []);\n}\nfunction query(root, selector) {\n  return root?.querySelector(selector) ?? null;\n}\nvar defaultItemToId = (v) => v.id;\nfunction itemById(v, id, itemToId = defaultItemToId) {\n  return v.find((item) => itemToId(item) === id);\n}\nfunction indexOfId(v, id, itemToId = defaultItemToId) {\n  const item = itemById(v, id, itemToId);\n  return item ? v.indexOf(item) : -1;\n}\nfunction nextById(v, id, loop = true) {\n  let idx = indexOfId(v, id);\n  idx = loop ? (idx + 1) % v.length : Math.min(idx + 1, v.length - 1);\n  return v[idx];\n}\nfunction prevById(v, id, loop = true) {\n  let idx = indexOfId(v, id);\n  if (idx === -1) return loop ? v[v.length - 1] : null;\n  idx = loop ? (idx - 1 + v.length) % v.length : Math.max(0, idx - 1);\n  return v[idx];\n}\n\n// src/scope.ts\nfunction createScope(methods) {\n  const dom = {\n    getRootNode: (ctx) => ctx.getRootNode?.() ?? document,\n    getDoc: (ctx) => getDocument(dom.getRootNode(ctx)),\n    getWin: (ctx) => dom.getDoc(ctx).defaultView ?? window,\n    getActiveElement: (ctx) => getActiveElement(dom.getRootNode(ctx)),\n    isActiveElement: (ctx, elem) => elem === dom.getActiveElement(ctx),\n    getById: (ctx, id) => dom.getRootNode(ctx).getElementById(id),\n    setValue: (elem, value) => {\n      if (elem == null || value == null) return;\n      const valueAsString = value.toString();\n      if (elem.value === valueAsString) return;\n      elem.value = value.toString();\n    }\n  };\n  return { ...dom, ...methods };\n}\n\n// src/searchable.ts\nvar sanitize = (str) => str.split(\"\").map((char) => {\n  const code = char.charCodeAt(0);\n  if (code > 0 && code < 128) return char;\n  if (code >= 128 && code <= 255) return `/x${code.toString(16)}`.replace(\"/\", \"\\\\\");\n  return \"\";\n}).join(\"\").trim();\nvar getValueText = (el) => {\n  return sanitize(el.dataset?.valuetext ?? el.textContent ?? \"\");\n};\nvar match = (valueText, query2) => {\n  return valueText.trim().toLowerCase().startsWith(query2.toLowerCase());\n};\nfunction getByText(v, text, currentId, itemToId = defaultItemToId) {\n  const index = currentId ? indexOfId(v, currentId, itemToId) : -1;\n  let items = currentId ? wrap(v, index) : v;\n  const isSingleKey = text.length === 1;\n  if (isSingleKey) {\n    items = items.filter((item) => itemToId(item) !== currentId);\n  }\n  return items.find((item) => match(getValueText(item), text));\n}\n\n// src/set.ts\nvar cleanups = /* @__PURE__ */ new WeakMap();\nfunction set(element, key, setup) {\n  if (!cleanups.has(element)) {\n    cleanups.set(element, /* @__PURE__ */ new Map());\n  }\n  const elementCleanups = cleanups.get(element);\n  const prevCleanup = elementCleanups.get(key);\n  if (!prevCleanup) {\n    elementCleanups.set(key, setup());\n    return () => {\n      elementCleanups.get(key)?.();\n      elementCleanups.delete(key);\n    };\n  }\n  const cleanup = setup();\n  const nextCleanup = () => {\n    cleanup();\n    prevCleanup();\n    elementCleanups.delete(key);\n  };\n  elementCleanups.set(key, nextCleanup);\n  return () => {\n    const isCurrent = elementCleanups.get(key) === nextCleanup;\n    if (!isCurrent) return;\n    cleanup();\n    elementCleanups.set(key, prevCleanup);\n  };\n}\nfunction setAttribute(element, attr, value) {\n  const setup = () => {\n    const previousValue = element.getAttribute(attr);\n    element.setAttribute(attr, value);\n    return () => {\n      if (previousValue == null) {\n        element.removeAttribute(attr);\n      } else {\n        element.setAttribute(attr, previousValue);\n      }\n    };\n  };\n  return set(element, attr, setup);\n}\nfunction setProperty(element, property, value) {\n  const setup = () => {\n    const exists = property in element;\n    const previousValue = element[property];\n    element[property] = value;\n    return () => {\n      if (!exists) {\n        delete element[property];\n      } else {\n        element[property] = previousValue;\n      }\n    };\n  };\n  return set(element, property, setup);\n}\nfunction setStyle(element, style) {\n  if (!element) return () => {\n  };\n  const setup = () => {\n    const prevStyle = element.style.cssText;\n    Object.assign(element.style, style);\n    return () => {\n      element.style.cssText = prevStyle;\n    };\n  };\n  return set(element, \"style\", setup);\n}\n\n// src/typeahead.ts\nfunction getByTypeaheadImpl(baseItems, options) {\n  const { state: state2, activeId, key, timeout = 350, itemToId } = options;\n  const search = state2.keysSoFar + key;\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const query2 = isRepeated ? search[0] : search;\n  let items = baseItems.slice();\n  const next = getByText(items, query2, activeId, itemToId);\n  function cleanup() {\n    clearTimeout(state2.timer);\n    state2.timer = -1;\n  }\n  function update(value) {\n    state2.keysSoFar = value;\n    cleanup();\n    if (value !== \"\") {\n      state2.timer = +setTimeout(() => {\n        update(\"\");\n        cleanup();\n      }, timeout);\n    }\n  }\n  update(search);\n  return next;\n}\nvar getByTypeahead = /* @__PURE__ */ Object.assign(getByTypeaheadImpl, {\n  defaultOptions: { keysSoFar: \"\", timer: -1 },\n  isValidEvent: isValidTypeaheadEvent\n});\nfunction isValidTypeaheadEvent(event) {\n  return event.key.length === 1 && !event.ctrlKey && !event.metaKey;\n}\n\n// src/visual-viewport.ts\nfunction trackVisualViewport(doc, fn) {\n  const win = doc?.defaultView || window;\n  const onResize = () => {\n    fn?.(getViewportSize(win));\n  };\n  onResize();\n  return addDomEvent(win.visualViewport ?? win, \"resize\", onResize);\n}\nfunction getViewportSize(win) {\n  return {\n    width: win.visualViewport?.width || win.innerWidth,\n    height: win.visualViewport?.height || win.innerHeight\n  };\n}\n\n// src/visually-hidden.ts\nvar visuallyHiddenStyle = {\n  border: \"0\",\n  clip: \"rect(0 0 0 0)\",\n  height: \"1px\",\n  margin: \"-1px\",\n  overflow: \"hidden\",\n  padding: \"0\",\n  position: \"absolute\",\n  width: \"1px\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\"\n};\nfunction setVisuallyHidden(el) {\n  Object.assign(el.style, visuallyHiddenStyle);\n}\n\n// src/wait-for.ts\nvar fps = 1e3 / 60;\nfunction waitForElement(query2, cb) {\n  const el = query2();\n  if (isHTMLElement(el) && el.isConnected) {\n    cb(el);\n    return () => void 0;\n  } else {\n    const timerId = setInterval(() => {\n      const el2 = query2();\n      if (isHTMLElement(el2) && el2.isConnected) {\n        cb(el2);\n        clearInterval(timerId);\n      }\n    }, fps);\n    return () => clearInterval(timerId);\n  }\n}\nfunction waitForElements(queries, cb) {\n  const cleanups2 = [];\n  queries?.forEach((query2) => {\n    const clean = waitForElement(query2, cb);\n    cleanups2.push(clean);\n  });\n  return () => {\n    cleanups2.forEach((fn) => fn());\n  };\n}\n\nexport { MAX_Z_INDEX, addDomEvent, ariaAttr, clickIfLink, contains, createScope, dataAttr, defaultItemToId, disableTextSelection, getActiveElement, getBeforeInputValue, getByText, getByTypeahead, getComputedStyle, getDataUrl, getDocument, getDocumentElement, getEventKey, getEventPoint, getEventStep, getEventTarget, getFirstFocusable, getFirstTabbable, getFocusables, getInitialFocus, getLastTabbable, getNativeEvent, getNearestOverflowAncestor, getNextTabbable, getNodeName, getOverflowAncestors, getParentNode, getPlatform, getRelativePoint, getScrollPosition, getTabIndex, getTabbableEdges, getTabbables, getUserAgent, getWindow, indexOfId, isAnchorElement, isAndroid, isApple, isComposingEvent, isContextMenuEvent, isDocument, isDom, isDownloadingEvent, isEditableElement, isElementVisible, isFirefox, isFocusable, isHTMLElement, isInView, isInputElement, isIos, isKeyboardClick, isLeftClick, isMac, isModifierKey, isNode, isOpeningInNewTab, isOverflowElement, isPrintableKey, isRootElement, isSafari, isSelfTarget, isShadowRoot, isTabbable, isTouchDevice, isTouchEvent, isValidTabEvent, isVirtualClick, isVirtualPointerEvent, isVisualViewport, isWebKit, isWindow, itemById, nextById, nextTick, observeAttributes, observeChildren, prevById, proxyTabFocus, query, queryAll, queueBeforeEvent, raf, requestPointerLock, restoreTextSelection, scrollIntoView, setAttribute, setProperty, setStyle, setVisuallyHidden, trackPointerMove, trackPress, trackVisualViewport, visuallyHiddenStyle, waitForElement, waitForElements };\n"],"mappings":"AAAA;AACA,IAAIA,KAAK,GAAIC,KAAK,IAAKC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAAC,CAAC,EAAEH,KAAK,CAAC,CAAC;AACtD,IAAII,IAAI,GAAGA,CAACC,CAAC,EAAEC,GAAG,KAAK;EACrB,OAAOD,CAAC,CAACE,GAAG,CAAC,CAACC,CAAC,EAAEC,KAAK,KAAKJ,CAAC,CAAC,CAACJ,IAAI,CAACC,GAAG,CAACI,GAAG,EAAE,CAAC,CAAC,GAAGG,KAAK,IAAIJ,CAAC,CAACK,MAAM,CAAC,CAAC;AACtE,CAAC;AACD,IAAIC,IAAI,GAAGA,CAAC,GAAGC,GAAG,KAAMC,GAAG,IAAKD,GAAG,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,EAAE,KAAKA,EAAE,CAACD,GAAG,CAAC,EAAEF,GAAG,CAAC;AACrE,IAAII,IAAI,GAAGA,CAAA,KAAM,KAAK,CAAC;AACvB,IAAIC,QAAQ,GAAIb,CAAC,IAAK,OAAOA,CAAC,KAAK,QAAQ,IAAIA,CAAC,KAAK,IAAI;AACzD,IAAIc,WAAW,GAAG,UAAU;AAC5B,IAAIC,QAAQ,GAAIC,KAAK,IAAKA,KAAK,GAAG,EAAE,GAAG,KAAK,CAAC;AAC7C,IAAIC,QAAQ,GAAID,KAAK,IAAKA,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC;;AAEjD;AACA,IAAIE,YAAY,GAAG,CAAC;AACpB,IAAIC,aAAa,GAAG,CAAC;AACrB,IAAIC,sBAAsB,GAAG,EAAE;AAC/B,IAAIC,aAAa,GAAIC,EAAE,IAAKT,QAAQ,CAACS,EAAE,CAAC,IAAIA,EAAE,CAACC,QAAQ,KAAKL,YAAY,IAAI,OAAOI,EAAE,CAACE,QAAQ,KAAK,QAAQ;AAC3G,IAAIC,UAAU,GAAIH,EAAE,IAAKT,QAAQ,CAACS,EAAE,CAAC,IAAIA,EAAE,CAACC,QAAQ,KAAKJ,aAAa;AACtE,IAAIO,QAAQ,GAAIJ,EAAE,IAAKT,QAAQ,CAACS,EAAE,CAAC,IAAIA,EAAE,KAAKA,EAAE,CAACK,MAAM;AACvD,IAAIC,gBAAgB,GAAIN,EAAE,IAAKT,QAAQ,CAACS,EAAE,CAAC,IAAIA,EAAE,CAACO,WAAW,CAACC,IAAI,KAAK,gBAAgB;AACvF,IAAIC,WAAW,GAAIC,IAAI,IAAK;EAC1B,IAAIX,aAAa,CAACW,IAAI,CAAC,EAAE,OAAOA,IAAI,CAACC,SAAS,IAAI,EAAE;EACpD,OAAO,WAAW;AACpB,CAAC;AACD,SAASC,aAAaA,CAACF,IAAI,EAAE;EAC3B,OAAO,CAAC,MAAM,EAAE,MAAM,EAAE,WAAW,CAAC,CAACG,QAAQ,CAACJ,WAAW,CAACC,IAAI,CAAC,CAAC;AAClE;AACA,IAAII,MAAM,GAAId,EAAE,IAAKT,QAAQ,CAACS,EAAE,CAAC,IAAIA,EAAE,CAACC,QAAQ,KAAK,KAAK,CAAC;AAC3D,IAAIc,YAAY,GAAIf,EAAE,IAAKc,MAAM,CAACd,EAAE,CAAC,IAAIA,EAAE,CAACC,QAAQ,KAAKH,sBAAsB,IAAI,MAAM,IAAIE,EAAE;AAC/F,IAAIgB,cAAc,GAAIhB,EAAE,IAAKD,aAAa,CAACC,EAAE,CAAC,IAAIA,EAAE,CAACW,SAAS,KAAK,OAAO;AAC1E,IAAIM,eAAe,GAAIjB,EAAE,IAAK,CAAC,CAACA,EAAE,EAAEkB,OAAO,CAAC,SAAS,CAAC;AACtD,IAAIC,gBAAgB,GAAInB,EAAE,IAAK;EAC7B,IAAI,CAACD,aAAa,CAACC,EAAE,CAAC,EAAE,OAAO,KAAK;EACpC,OAAOA,EAAE,CAACoB,WAAW,GAAG,CAAC,IAAIpB,EAAE,CAACqB,YAAY,GAAG,CAAC,IAAIrB,EAAE,CAACsB,cAAc,CAAC,CAAC,CAACvC,MAAM,GAAG,CAAC;AACpF,CAAC;AACD,IAAIwC,qBAAqB,GAAG,mBAAmB;AAC/C,SAASC,iBAAiBA,CAACxB,EAAE,EAAE;EAC7B,IAAIA,EAAE,IAAI,IAAI,IAAI,CAACD,aAAa,CAACC,EAAE,CAAC,EAAE,OAAO,KAAK;EAClD,IAAI;IACF,OAAOgB,cAAc,CAAChB,EAAE,CAAC,IAAIA,EAAE,CAACyB,cAAc,IAAI,IAAI,IAAIF,qBAAqB,CAACG,IAAI,CAAC1B,EAAE,CAACW,SAAS,CAAC,IAAIX,EAAE,CAAC2B,iBAAiB,IAAI3B,EAAE,CAAC4B,YAAY,CAAC,iBAAiB,CAAC,KAAK,MAAM,IAAI5B,EAAE,CAAC4B,YAAY,CAAC,iBAAiB,CAAC,KAAK,EAAE;EAC1N,CAAC,CAAC,MAAM;IACN,OAAO,KAAK;EACd;AACF;AACA,SAASC,QAAQA,CAACC,MAAM,EAAEC,KAAK,EAAE;EAC/B,IAAI,CAACD,MAAM,IAAI,CAACC,KAAK,EAAE,OAAO,KAAK;EACnC,IAAI,CAAChC,aAAa,CAAC+B,MAAM,CAAC,IAAI,CAAC/B,aAAa,CAACgC,KAAK,CAAC,EAAE,OAAO,KAAK;EACjE,MAAMC,QAAQ,GAAGD,KAAK,CAACE,WAAW,GAAG,CAAC;EACtC,IAAIH,MAAM,KAAKC,KAAK,EAAE,OAAO,IAAI;EACjC,IAAID,MAAM,CAACD,QAAQ,CAACE,KAAK,CAAC,EAAE,OAAO,IAAI;EACvC,IAAIC,QAAQ,IAAIjB,YAAY,CAACiB,QAAQ,CAAC,EAAE;IACtC,IAAIE,IAAI,GAAGH,KAAK;IAChB,OAAOG,IAAI,EAAE;MACX,IAAIJ,MAAM,KAAKI,IAAI,EAAE,OAAO,IAAI;MAChCA,IAAI,GAAGA,IAAI,CAACC,UAAU,IAAID,IAAI,CAACE,IAAI;IACrC;EACF;EACA,OAAO,KAAK;AACd;AACA,SAASC,WAAWA,CAACrC,EAAE,EAAE;EACvB,IAAIG,UAAU,CAACH,EAAE,CAAC,EAAE,OAAOA,EAAE;EAC7B,IAAII,QAAQ,CAACJ,EAAE,CAAC,EAAE,OAAOA,EAAE,CAACsC,QAAQ;EACpC,OAAOtC,EAAE,EAAEuC,aAAa,IAAID,QAAQ;AACtC;AACA,SAASE,kBAAkBA,CAACxC,EAAE,EAAE;EAC9B,OAAOqC,WAAW,CAACrC,EAAE,CAAC,CAACyC,eAAe;AACxC;AACA,SAASC,SAASA,CAAC1C,EAAE,EAAE;EACrB,IAAIe,YAAY,CAACf,EAAE,CAAC,EAAE,OAAO0C,SAAS,CAAC1C,EAAE,CAACoC,IAAI,CAAC;EAC/C,IAAIjC,UAAU,CAACH,EAAE,CAAC,EAAE,OAAOA,EAAE,CAAC2C,WAAW,IAAItC,MAAM;EACnD,IAAIN,aAAa,CAACC,EAAE,CAAC,EAAE,OAAOA,EAAE,CAACuC,aAAa,EAAEI,WAAW,IAAItC,MAAM;EACrE,OAAOA,MAAM;AACf;AACA,SAASuC,gBAAgBA,CAACZ,QAAQ,EAAE;EAClC,IAAIa,aAAa,GAAGb,QAAQ,CAACa,aAAa;EAC1C,OAAOA,aAAa,EAAEC,UAAU,EAAE;IAChC,MAAM9C,EAAE,GAAG6C,aAAa,CAACC,UAAU,CAACD,aAAa;IACjD,IAAI7C,EAAE,KAAK6C,aAAa,EAAE,MAAM,KAC3BA,aAAa,GAAG7C,EAAE;EACzB;EACA,OAAO6C,aAAa;AACtB;AACA,SAASE,aAAaA,CAACrC,IAAI,EAAE;EAC3B,IAAID,WAAW,CAACC,IAAI,CAAC,KAAK,MAAM,EAAE,OAAOA,IAAI;EAC7C,MAAMsC,MAAM,GAAGtC,IAAI,CAACuC,YAAY,IAAIvC,IAAI,CAACyB,UAAU,IAAIpB,YAAY,CAACL,IAAI,CAAC,IAAIA,IAAI,CAAC0B,IAAI,IAAII,kBAAkB,CAAC9B,IAAI,CAAC;EAClH,OAAOK,YAAY,CAACiC,MAAM,CAAC,GAAGA,MAAM,CAACZ,IAAI,GAAGY,MAAM;AACpD;;AAEA;AACA,IAAIE,UAAU,GAAG,eAAgB,IAAIC,OAAO,CAAC,CAAC;AAC9C,SAASC,gBAAgBA,CAACpD,EAAE,EAAE;EAC5B,IAAI,CAACkD,UAAU,CAACG,GAAG,CAACrD,EAAE,CAAC,EAAE;IACvBkD,UAAU,CAACI,GAAG,CAACtD,EAAE,EAAE0C,SAAS,CAAC1C,EAAE,CAAC,CAACoD,gBAAgB,CAACpD,EAAE,CAAC,CAAC;EACxD;EACA,OAAOkD,UAAU,CAACK,GAAG,CAACvD,EAAE,CAAC;AAC3B;;AAEA;AACA,SAASwD,UAAUA,CAACC,GAAG,EAAEC,IAAI,EAAE;EAC7B,MAAM;IAAEC,IAAI;IAAEC,OAAO,GAAG,IAAI;IAAEC;EAAW,CAAC,GAAGH,IAAI;EACjD,IAAI,CAACD,GAAG,EAAE,MAAM,IAAIK,KAAK,CAAC,uDAAuD,CAAC;EAClF,MAAMC,GAAG,GAAGrB,SAAS,CAACe,GAAG,CAAC;EAC1B,MAAMO,GAAG,GAAGD,GAAG,CAACzB,QAAQ;EACxB,MAAM2B,SAAS,GAAGR,GAAG,CAACS,qBAAqB,CAAC,CAAC;EAC7C,MAAMC,QAAQ,GAAGV,GAAG,CAACW,SAAS,CAAC,IAAI,CAAC;EACpC,IAAI,CAACD,QAAQ,CAACE,YAAY,CAAC,SAAS,CAAC,EAAE;IACrCF,QAAQ,CAACG,YAAY,CAAC,SAAS,EAAE,OAAOL,SAAS,CAACM,KAAK,IAAIN,SAAS,CAACO,MAAM,EAAE,CAAC;EAChF;EACA,MAAMC,UAAU,GAAG,IAAIV,GAAG,CAACW,aAAa,CAAC,CAAC;EAC1C,MAAMC,MAAM,GAAG,2CAA2C,GAAGF,UAAU,CAACG,iBAAiB,CAACT,QAAQ,CAAC;EACnG,MAAMU,SAAS,GAAG,mCAAmC,GAAGC,kBAAkB,CAACH,MAAM,CAAC;EAClF,IAAIhB,IAAI,KAAK,eAAe,EAAE;IAC5B,OAAOoB,OAAO,CAACC,OAAO,CAACH,SAAS,CAAC,CAACI,IAAI,CAAEC,GAAG,IAAK;MAC9Cf,QAAQ,CAACgB,MAAM,CAAC,CAAC;MACjB,OAAOD,GAAG;IACZ,CAAC,CAAC;EACJ;EACA,MAAME,GAAG,GAAGrB,GAAG,CAACsB,gBAAgB,IAAI,CAAC;EACrC,MAAMC,MAAM,GAAGtB,GAAG,CAACuB,aAAa,CAAC,QAAQ,CAAC;EAC1C,MAAMC,KAAK,GAAG,IAAIzB,GAAG,CAAC0B,KAAK,CAAC,CAAC;EAC7BD,KAAK,CAACE,GAAG,GAAGb,SAAS;EACrBS,MAAM,CAACf,KAAK,GAAGN,SAAS,CAACM,KAAK,GAAGa,GAAG;EACpCE,MAAM,CAACd,MAAM,GAAGP,SAAS,CAACO,MAAM,GAAGY,GAAG;EACtC,MAAMO,OAAO,GAAGL,MAAM,CAACM,UAAU,CAAC,IAAI,CAAC;EACvC,IAAIjC,IAAI,KAAK,YAAY,IAAIE,UAAU,EAAE;IACvC8B,OAAO,CAACE,SAAS,GAAGhC,UAAU,IAAI,OAAO;IACzC8B,OAAO,CAACG,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAER,MAAM,CAACf,KAAK,EAAEe,MAAM,CAACd,MAAM,CAAC;EACrD;EACA,OAAO,IAAIO,OAAO,CAAEC,OAAO,IAAK;IAC9BQ,KAAK,CAACO,MAAM,GAAG,MAAM;MACnBJ,OAAO,EAAEK,SAAS,CAACR,KAAK,EAAE,CAAC,EAAE,CAAC,EAAEF,MAAM,CAACf,KAAK,EAAEe,MAAM,CAACd,MAAM,CAAC;MAC5DQ,OAAO,CAACM,MAAM,CAACW,SAAS,CAACtC,IAAI,EAAEC,OAAO,CAAC,CAAC;MACxCO,QAAQ,CAACgB,MAAM,CAAC,CAAC;IACnB,CAAC;EACH,CAAC,CAAC;AACJ;;AAEA;AACA,IAAIe,KAAK,GAAGA,CAAA,KAAM,OAAO5D,QAAQ,KAAK,WAAW;AACjD,SAAS6D,WAAWA,CAAA,EAAG;EACrB,MAAMC,KAAK,GAAGC,SAAS,CAACC,aAAa;EACrC,OAAOF,KAAK,EAAEG,QAAQ,IAAIF,SAAS,CAACE,QAAQ;AAC9C;AACA,SAASC,YAAYA,CAAA,EAAG;EACtB,MAAMC,GAAG,GAAGJ,SAAS,CAACC,aAAa;EACnC,IAAIG,GAAG,IAAIC,KAAK,CAACC,OAAO,CAACF,GAAG,CAACG,MAAM,CAAC,EAAE;IACpC,OAAOH,GAAG,CAACG,MAAM,CAAChI,GAAG,CAAC,CAAC;MAAEiI,KAAK;MAAEC;IAAQ,CAAC,KAAK,GAAGD,KAAK,IAAIC,OAAO,EAAE,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;EAChF;EACA,OAAOV,SAAS,CAACW,SAAS;AAC5B;AACA,IAAIC,EAAE,GAAIvI,CAAC,IAAKwH,KAAK,CAAC,CAAC,IAAIxH,CAAC,CAACgD,IAAI,CAACyE,WAAW,CAAC,CAAC,CAAC;AAChD,IAAIe,EAAE,GAAIxI,CAAC,IAAKwH,KAAK,CAAC,CAAC,IAAIxH,CAAC,CAACgD,IAAI,CAAC8E,YAAY,CAAC,CAAC,CAAC;AACjD,IAAIW,EAAE,GAAIzI,CAAC,IAAKwH,KAAK,CAAC,CAAC,IAAIxH,CAAC,CAACgD,IAAI,CAAC2E,SAAS,CAACe,MAAM,CAAC;AACnD,IAAIC,aAAa,GAAGA,CAAA,KAAMnB,KAAK,CAAC,CAAC,IAAI,CAAC,CAACG,SAAS,CAACiB,cAAc;AAC/D,IAAIC,KAAK,GAAGA,CAAA,KAAMN,EAAE,CAAC,MAAM,CAAC;AAC5B,IAAIO,QAAQ,GAAGA,CAAA,KAAMC,OAAO,CAAC,CAAC,IAAIN,EAAE,CAAC,QAAQ,CAAC;AAC9C,IAAIO,SAAS,GAAGA,CAAA,KAAMR,EAAE,CAAC,YAAY,CAAC;AACtC,IAAIO,OAAO,GAAGA,CAAA,KAAMR,EAAE,CAAC,uBAAuB,CAAC;AAC/C,IAAIU,KAAK,GAAGA,CAAA,KAAMV,EAAE,CAAC,oBAAoB,CAAC;AAC1C,IAAIW,QAAQ,GAAGA,CAAA,KAAMV,EAAE,CAAC,aAAa,CAAC;AACtC,IAAIW,SAAS,GAAGA,CAAA,KAAM;EACpB,MAAMC,EAAE,GAAG,UAAU;EACrB,OAAOb,EAAE,CAACa,EAAE,CAAC,IAAIZ,EAAE,CAACY,EAAE,CAAC;AACzB,CAAC;;AAED;AACA,SAASC,mBAAmBA,CAACC,KAAK,EAAE;EAClC,MAAM;IAAEvG,cAAc;IAAEwG,YAAY;IAAE5J;EAAM,CAAC,GAAG2J,KAAK,CAACE,aAAa;EACnE,OAAO7J,KAAK,CAAC8J,KAAK,CAAC,CAAC,EAAE1G,cAAc,CAAC,GAAGuG,KAAK,CAACI,IAAI,GAAG/J,KAAK,CAAC8J,KAAK,CAACF,YAAY,CAAC;AAChF;AACA,SAASI,eAAeA,CAACL,KAAK,EAAE;EAC9B,OAAOA,KAAK,CAACM,YAAY,GAAG,CAAC,IAAIN,KAAK,CAACO,WAAW,EAAED,YAAY,GAAG,CAAC;AACtE;AACA,SAASE,cAAcA,CAACR,KAAK,EAAE;EAC7B,MAAMM,YAAY,GAAGD,eAAe,CAACL,KAAK,CAAC;EAC3C,OAAOM,YAAY,GAAG,CAAC,CAAC,IAAIN,KAAK,CAACS,MAAM;AAC1C;AACA,IAAIC,YAAY,GAAIV,KAAK,IAAK;EAC5B,OAAOnG,QAAQ,CAACmG,KAAK,CAACE,aAAa,EAAEM,cAAc,CAACR,KAAK,CAAC,CAAC;AAC7D,CAAC;AACD,SAASW,iBAAiBA,CAACX,KAAK,EAAE;EAChC,MAAMY,OAAO,GAAGZ,KAAK,CAACE,aAAa;EACnC,IAAI,CAACU,OAAO,EAAE,OAAO,KAAK;EAC1B,MAAMC,aAAa,GAAGpB,OAAO,CAAC,CAAC;EAC/B,IAAIoB,aAAa,IAAI,CAACb,KAAK,CAACc,OAAO,EAAE,OAAO,KAAK;EACjD,IAAI,CAACD,aAAa,IAAI,CAACb,KAAK,CAACe,OAAO,EAAE,OAAO,KAAK;EAClD,MAAMpI,SAAS,GAAGiI,OAAO,CAACjI,SAAS;EACnC,IAAIA,SAAS,KAAK,GAAG,EAAE,OAAO,IAAI;EAClC,IAAIA,SAAS,KAAK,QAAQ,IAAIiI,OAAO,CAACjF,IAAI,KAAK,QAAQ,EAAE,OAAO,IAAI;EACpE,IAAIhD,SAAS,KAAK,OAAO,IAAIiI,OAAO,CAACjF,IAAI,KAAK,QAAQ,EAAE,OAAO,IAAI;EACnE,OAAO,KAAK;AACd;AACA,SAASqF,kBAAkBA,CAAChB,KAAK,EAAE;EACjC,MAAMY,OAAO,GAAGZ,KAAK,CAACE,aAAa;EACnC,IAAI,CAACU,OAAO,EAAE,OAAO,KAAK;EAC1B,MAAMjI,SAAS,GAAGiI,OAAO,CAACjI,SAAS;EACnC,IAAI,CAACqH,KAAK,CAACiB,MAAM,EAAE,OAAO,KAAK;EAC/B,IAAItI,SAAS,KAAK,GAAG,EAAE,OAAO,IAAI;EAClC,IAAIA,SAAS,KAAK,QAAQ,IAAIiI,OAAO,CAACjF,IAAI,KAAK,QAAQ,EAAE,OAAO,IAAI;EACpE,IAAIhD,SAAS,KAAK,OAAO,IAAIiI,OAAO,CAACjF,IAAI,KAAK,QAAQ,EAAE,OAAO,IAAI;EACnE,OAAO,KAAK;AACd;AACA,SAASuF,gBAAgBA,CAAClB,KAAK,EAAE;EAC/B,OAAOmB,cAAc,CAACnB,KAAK,CAAC,CAACoB,WAAW;AAC1C;AACA,SAASC,eAAeA,CAACC,CAAC,EAAE;EAC1B,OAAOA,CAAC,CAACC,MAAM,KAAK,CAAC,IAAID,CAAC,CAACE,OAAO,KAAK,CAAC,IAAIF,CAAC,CAACG,OAAO,KAAK,CAAC;AAC7D;AACA,SAASC,cAAcA,CAACJ,CAAC,EAAE;EACzB,OAAOA,CAAC,CAACK,GAAG,CAAC5K,MAAM,KAAK,CAAC,IAAI,CAACuK,CAAC,CAACP,OAAO,IAAI,CAACO,CAAC,CAACR,OAAO;AACvD;AACA,SAASc,qBAAqBA,CAACN,CAAC,EAAE;EAChC,OAAOA,CAAC,CAAC/E,KAAK,KAAK,CAAC,IAAI+E,CAAC,CAAC9E,MAAM,KAAK,CAAC,IAAI8E,CAAC,CAAC/E,KAAK,KAAK,CAAC,IAAI+E,CAAC,CAAC9E,MAAM,KAAK,CAAC,IAAI8E,CAAC,CAACO,QAAQ,KAAK,CAAC,IAAIP,CAAC,CAACC,MAAM,KAAK,CAAC,IAAID,CAAC,CAACQ,WAAW,KAAK,OAAO;AAC9I;AACA,SAASC,cAAcA,CAACT,CAAC,EAAE;EACzB,IAAIA,CAAC,CAACU,cAAc,KAAK,CAAC,IAAIV,CAAC,CAACW,SAAS,EAAE,OAAO,IAAI;EACtD,IAAIpC,SAAS,CAAC,CAAC,IAAIyB,CAAC,CAACQ,WAAW,EAAE;IAChC,OAAOR,CAAC,CAAC3F,IAAI,KAAK,OAAO,IAAI2F,CAAC,CAACY,OAAO,KAAK,CAAC;EAC9C;EACA,OAAOZ,CAAC,CAACC,MAAM,KAAK,CAAC,IAAI,CAACD,CAAC,CAACQ,WAAW;AACzC;AACA,IAAIK,WAAW,GAAIb,CAAC,IAAKA,CAAC,CAACc,MAAM,KAAK,CAAC;AACvC,IAAIC,kBAAkB,GAAIf,CAAC,IAAK;EAC9B,OAAOA,CAAC,CAACc,MAAM,KAAK,CAAC,IAAI7C,KAAK,CAAC,CAAC,IAAI+B,CAAC,CAACP,OAAO,IAAIO,CAAC,CAACc,MAAM,KAAK,CAAC;AACjE,CAAC;AACD,IAAIE,aAAa,GAAIhB,CAAC,IAAKA,CAAC,CAACP,OAAO,IAAIO,CAAC,CAACL,MAAM,IAAIK,CAAC,CAACR,OAAO;AAC7D,IAAIyB,YAAY,GAAIvC,KAAK,IAAK,SAAS,IAAIA,KAAK,IAAIA,KAAK,CAACwC,OAAO,CAACzL,MAAM,GAAG,CAAC;AAC5E,IAAI0L,MAAM,GAAG;EACXC,EAAE,EAAE,SAAS;EACbC,IAAI,EAAE,WAAW;EACjBC,GAAG,EAAE,QAAQ;EACb,GAAG,EAAE,OAAO;EACZ,GAAG,EAAE,OAAO;EACZC,IAAI,EAAE,WAAW;EACjBC,KAAK,EAAE;AACT,CAAC;AACD,IAAIC,SAAS,GAAG;EACdC,SAAS,EAAE,YAAY;EACvBC,UAAU,EAAE;AACd,CAAC;AACD,SAASC,WAAWA,CAAClD,KAAK,EAAEmD,OAAO,GAAG,CAAC,CAAC,EAAE;EACxC,MAAM;IAAEC,GAAG,GAAG,KAAK;IAAEC,WAAW,GAAG;EAAa,CAAC,GAAGF,OAAO;EAC3D,IAAIxB,GAAG,GAAG3B,KAAK,CAAC2B,GAAG;EACnBA,GAAG,GAAGc,MAAM,CAACd,GAAG,CAAC,IAAIA,GAAG;EACxB,MAAM2B,KAAK,GAAGF,GAAG,KAAK,KAAK,IAAIC,WAAW,KAAK,YAAY;EAC3D,IAAIC,KAAK,IAAI3B,GAAG,IAAIoB,SAAS,EAAEpB,GAAG,GAAGoB,SAAS,CAACpB,GAAG,CAAC;EACnD,OAAOA,GAAG;AACZ;AACA,SAASR,cAAcA,CAACnB,KAAK,EAAE;EAC7B,OAAOA,KAAK,CAACO,WAAW,IAAIP,KAAK;AACnC;AACA,IAAIuD,QAAQ,GAAG,eAAgB,IAAIC,GAAG,CAAC,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;AAC9D,IAAIC,SAAS,GAAG,eAAgB,IAAID,GAAG,CAAC,CAAC,SAAS,EAAE,WAAW,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;AAC5F,SAASE,YAAYA,CAAC1D,KAAK,EAAE;EAC3B,IAAIA,KAAK,CAACe,OAAO,IAAIf,KAAK,CAACc,OAAO,EAAE;IAClC,OAAO,GAAG;EACZ,CAAC,MAAM;IACL,MAAM6C,SAAS,GAAGJ,QAAQ,CAAClI,GAAG,CAAC2E,KAAK,CAAC2B,GAAG,CAAC;IACzC,MAAMiC,SAAS,GAAGD,SAAS,IAAI3D,KAAK,CAAC6D,QAAQ,IAAIJ,SAAS,CAACpI,GAAG,CAAC2E,KAAK,CAAC2B,GAAG,CAAC;IACzE,OAAOiC,SAAS,GAAG,EAAE,GAAG,CAAC;EAC3B;AACF;AACA,SAASE,aAAaA,CAAC9D,KAAK,EAAErE,IAAI,GAAG,QAAQ,EAAE;EAC7C,MAAMoI,KAAK,GAAGxB,YAAY,CAACvC,KAAK,CAAC,GAAGA,KAAK,CAACwC,OAAO,CAAC,CAAC,CAAC,IAAIxC,KAAK,CAACgE,cAAc,CAAC,CAAC,CAAC,GAAGhE,KAAK;EACvF,OAAO;IAAEiE,CAAC,EAAEF,KAAK,CAAC,GAAGpI,IAAI,GAAG,CAAC;IAAEuI,CAAC,EAAEH,KAAK,CAAC,GAAGpI,IAAI,GAAG;EAAE,CAAC;AACvD;AACA,IAAIwI,WAAW,GAAGA,CAAC1D,MAAM,EAAE2D,SAAS,EAAEC,OAAO,EAAElB,OAAO,KAAK;EACzD,MAAMzK,IAAI,GAAG,OAAO+H,MAAM,KAAK,UAAU,GAAGA,MAAM,CAAC,CAAC,GAAGA,MAAM;EAC7D/H,IAAI,EAAE4L,gBAAgB,CAACF,SAAS,EAAEC,OAAO,EAAElB,OAAO,CAAC;EACnD,OAAO,MAAM;IACXzK,IAAI,EAAE6L,mBAAmB,CAACH,SAAS,EAAEC,OAAO,EAAElB,OAAO,CAAC;EACxD,CAAC;AACH,CAAC;;AAED;AACA,IAAIqB,OAAO,GAAIxM,EAAE,IAAKD,aAAa,CAACC,EAAE,CAAC,IAAIA,EAAE,CAACyM,OAAO,KAAK,QAAQ;AAClE,IAAIC,WAAW,GAAI1M,EAAE,IAAK,CAAC2M,MAAM,CAACC,KAAK,CAACC,QAAQ,CAAC7M,EAAE,CAAC4B,YAAY,CAAC,UAAU,CAAC,IAAI,GAAG,EAAE,EAAE,CAAC,CAAC;AACzF,IAAIkL,mBAAmB,GAAI9M,EAAE,IAAK6M,QAAQ,CAAC7M,EAAE,CAAC4B,YAAY,CAAC,UAAU,CAAC,IAAI,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC;AACtF,IAAImL,iBAAiB,GAAG,mSAAmS;AAC3T,IAAIC,aAAa,GAAGA,CAACC,SAAS,EAAEC,gBAAgB,GAAG,KAAK,KAAK;EAC3D,IAAI,CAACD,SAAS,EAAE,OAAO,EAAE;EACzB,MAAME,QAAQ,GAAGzG,KAAK,CAAC0G,IAAI,CAACH,SAAS,CAACI,gBAAgB,CAACN,iBAAiB,CAAC,CAAC;EAC1E,MAAMO,OAAO,GAAGJ,gBAAgB,IAAI,IAAI,IAAIA,gBAAgB,IAAI,UAAU,IAAIC,QAAQ,CAACpO,MAAM,KAAK,CAAC;EACnG,IAAIuO,OAAO,IAAIvN,aAAa,CAACkN,SAAS,CAAC,IAAIM,WAAW,CAACN,SAAS,CAAC,EAAE;IACjEE,QAAQ,CAACK,OAAO,CAACP,SAAS,CAAC;EAC7B;EACA,MAAMQ,iBAAiB,GAAGN,QAAQ,CAACO,MAAM,CAACH,WAAW,CAAC;EACtDE,iBAAiB,CAACE,OAAO,CAAC,CAAC/E,OAAO,EAAEgF,CAAC,KAAK;IACxC,IAAIpB,OAAO,CAAC5D,OAAO,CAAC,IAAIA,OAAO,CAACiF,eAAe,EAAE;MAC/C,MAAMC,SAAS,GAAGlF,OAAO,CAACiF,eAAe,CAACE,IAAI;MAC9CN,iBAAiB,CAACO,MAAM,CAACJ,CAAC,EAAE,CAAC,EAAE,GAAGZ,aAAa,CAACc,SAAS,CAAC,CAAC;IAC7D;EACF,CAAC,CAAC;EACF,OAAOL,iBAAiB;AAC1B,CAAC;AACD,SAASF,WAAWA,CAAC3E,OAAO,EAAE;EAC5B,IAAI,CAACA,OAAO,IAAIA,OAAO,CAACqF,OAAO,CAAC,SAAS,CAAC,EAAE,OAAO,KAAK;EACxD,OAAOrF,OAAO,CAAC1H,OAAO,CAAC6L,iBAAiB,CAAC,IAAI5L,gBAAgB,CAACyH,OAAO,CAAC;AACxE;AACA,SAASsF,iBAAiBA,CAACjB,SAAS,EAAEC,gBAAgB,EAAE;EACtD,MAAM,CAACiB,KAAK,CAAC,GAAGnB,aAAa,CAACC,SAAS,EAAEC,gBAAgB,CAAC;EAC1D,OAAOiB,KAAK,IAAI,IAAI;AACtB;AACA,SAASC,YAAYA,CAACnB,SAAS,EAAEC,gBAAgB,EAAE;EACjD,IAAI,CAACD,SAAS,EAAE,OAAO,EAAE;EACzB,MAAME,QAAQ,GAAGzG,KAAK,CAAC0G,IAAI,CAACH,SAAS,CAACI,gBAAgB,CAACN,iBAAiB,CAAC,CAAC;EAC1E,MAAMsB,gBAAgB,GAAGlB,QAAQ,CAACO,MAAM,CAACY,UAAU,CAAC;EACpD,IAAIpB,gBAAgB,IAAIoB,UAAU,CAACrB,SAAS,CAAC,EAAE;IAC7CoB,gBAAgB,CAACb,OAAO,CAACP,SAAS,CAAC;EACrC;EACAoB,gBAAgB,CAACV,OAAO,CAAC,CAAC/E,OAAO,EAAEgF,CAAC,KAAK;IACvC,IAAIpB,OAAO,CAAC5D,OAAO,CAAC,IAAIA,OAAO,CAACiF,eAAe,EAAE;MAC/C,MAAMC,SAAS,GAAGlF,OAAO,CAACiF,eAAe,CAACE,IAAI;MAC9C,MAAMQ,gBAAgB,GAAGH,YAAY,CAACN,SAAS,CAAC;MAChDO,gBAAgB,CAACL,MAAM,CAACJ,CAAC,EAAE,CAAC,EAAE,GAAGW,gBAAgB,CAAC;IACpD;EACF,CAAC,CAAC;EACF,IAAI,CAACF,gBAAgB,CAACtP,MAAM,IAAImO,gBAAgB,EAAE;IAChD,OAAOC,QAAQ;EACjB;EACA,OAAOkB,gBAAgB;AACzB;AACA,SAASC,UAAUA,CAACtO,EAAE,EAAE;EACtB,IAAIA,EAAE,IAAI,IAAI,IAAIA,EAAE,CAACwO,QAAQ,GAAG,CAAC,EAAE,OAAO,IAAI;EAC9C,OAAOjB,WAAW,CAACvN,EAAE,CAAC,IAAI,CAAC8M,mBAAmB,CAAC9M,EAAE,CAAC;AACpD;AACA,SAASyO,gBAAgBA,CAACxB,SAAS,EAAEC,gBAAgB,EAAE;EACrD,MAAM,CAACiB,KAAK,CAAC,GAAGC,YAAY,CAACnB,SAAS,EAAEC,gBAAgB,CAAC;EACzD,OAAOiB,KAAK,IAAI,IAAI;AACtB;AACA,SAASO,eAAeA,CAACzB,SAAS,EAAEC,gBAAgB,EAAE;EACpD,MAAMC,QAAQ,GAAGiB,YAAY,CAACnB,SAAS,EAAEC,gBAAgB,CAAC;EAC1D,OAAOC,QAAQ,CAACA,QAAQ,CAACpO,MAAM,GAAG,CAAC,CAAC,IAAI,IAAI;AAC9C;AACA,SAAS4P,gBAAgBA,CAAC1B,SAAS,EAAEC,gBAAgB,EAAE;EACrD,MAAMC,QAAQ,GAAGiB,YAAY,CAACnB,SAAS,EAAEC,gBAAgB,CAAC;EAC1D,MAAMiB,KAAK,GAAGhB,QAAQ,CAAC,CAAC,CAAC,IAAI,IAAI;EACjC,MAAMyB,IAAI,GAAGzB,QAAQ,CAACA,QAAQ,CAACpO,MAAM,GAAG,CAAC,CAAC,IAAI,IAAI;EAClD,OAAO,CAACoP,KAAK,EAAES,IAAI,CAAC;AACtB;AACA,SAASC,eAAeA,CAAC5B,SAAS,EAAE6B,OAAO,EAAE;EAC3C,MAAMC,SAAS,GAAGX,YAAY,CAACnB,SAAS,CAAC;EACzC,MAAMjJ,GAAG,GAAGiJ,SAAS,EAAE1K,aAAa,IAAID,QAAQ;EAChD,MAAM0M,cAAc,GAAGF,OAAO,IAAI9K,GAAG,CAACnB,aAAa;EACnD,IAAI,CAACmM,cAAc,EAAE,OAAO,IAAI;EAChC,MAAMlQ,KAAK,GAAGiQ,SAAS,CAACE,OAAO,CAACD,cAAc,CAAC;EAC/C,OAAOD,SAAS,CAACjQ,KAAK,GAAG,CAAC,CAAC,IAAI,IAAI;AACrC;AACA,SAASoQ,WAAWA,CAACxO,IAAI,EAAE;EACzB,IAAIA,IAAI,CAAC8N,QAAQ,GAAG,CAAC,EAAE;IACrB,IAAI,CAAC,yBAAyB,CAAC9M,IAAI,CAAChB,IAAI,CAACC,SAAS,CAAC,IAAIa,iBAAiB,CAACd,IAAI,CAAC,KAAK,CAACgM,WAAW,CAAChM,IAAI,CAAC,EAAE;MACrG,OAAO,CAAC;IACV;EACF;EACA,OAAOA,IAAI,CAAC8N,QAAQ;AACtB;;AAEA;AACA,SAASW,eAAeA,CAAChE,OAAO,EAAE;EAChC,MAAM;IAAEiE,IAAI;IAAEC,YAAY;IAAE3B,MAAM;IAAE4B,OAAO,GAAG;EAAK,CAAC,GAAGnE,OAAO;EAC9D,IAAI,CAACmE,OAAO,EAAE;EACd,IAAI5O,IAAI,GAAG,IAAI;EACfA,IAAI,KAAKA,IAAI,GAAG,OAAO2O,YAAY,KAAK,UAAU,GAAGA,YAAY,CAAC,CAAC,GAAGA,YAAY,CAAC;EACnF3O,IAAI,KAAKA,IAAI,GAAG0O,IAAI,EAAEG,aAAa,CAAC,8BAA8B,CAAC,CAAC;EACpE,IAAI,CAAC7O,IAAI,EAAE;IACT,MAAMqO,SAAS,GAAGX,YAAY,CAACgB,IAAI,CAAC;IACpC1O,IAAI,GAAGgN,MAAM,GAAGqB,SAAS,CAACrB,MAAM,CAACA,MAAM,CAAC,CAAC,CAAC,CAAC,GAAGqB,SAAS,CAAC,CAAC,CAAC;EAC5D;EACA,OAAOrO,IAAI,IAAI0O,IAAI,IAAI,KAAK,CAAC;AAC/B;AACA,SAASI,eAAeA,CAACxH,KAAK,EAAE;EAC9B,MAAMiF,SAAS,GAAGjF,KAAK,CAACE,aAAa;EACrC,IAAI,CAAC+E,SAAS,EAAE,OAAO,KAAK;EAC5B,MAAM,CAACwC,aAAa,EAAEC,YAAY,CAAC,GAAGf,gBAAgB,CAAC1B,SAAS,CAAC;EACjE,MAAMjJ,GAAG,GAAGiJ,SAAS,CAAC1K,aAAa,IAAID,QAAQ;EAC/C,IAAI0B,GAAG,CAACnB,aAAa,KAAK4M,aAAa,IAAIzH,KAAK,CAAC6D,QAAQ,EAAE,OAAO,KAAK;EACvE,IAAI7H,GAAG,CAACnB,aAAa,KAAK6M,YAAY,IAAI,CAAC1H,KAAK,CAAC6D,QAAQ,EAAE,OAAO,KAAK;EACvE,IAAI,CAAC4D,aAAa,IAAI,CAACC,YAAY,EAAE,OAAO,KAAK;EACjD,OAAO,IAAI;AACb;;AAEA;AACA,SAASC,QAAQA,CAACtQ,EAAE,EAAE;EACpB,MAAMuQ,IAAI,GAAG,eAAgB,IAAIpE,GAAG,CAAC,CAAC;EACtC,SAASqE,IAAIA,CAACC,GAAG,EAAE;IACjB,MAAMC,EAAE,GAAGC,UAAU,CAACC,qBAAqB,CAACH,GAAG,CAAC;IAChDF,IAAI,CAACM,GAAG,CAAC,MAAMF,UAAU,CAACG,oBAAoB,CAACJ,EAAE,CAAC,CAAC;EACrD;EACAF,IAAI,CAAC,MAAMA,IAAI,CAACxQ,EAAE,CAAC,CAAC;EACpB,OAAO,SAAS+Q,OAAOA,CAAA,EAAG;IACxBR,IAAI,CAACjC,OAAO,CAAEmC,GAAG,IAAKA,GAAG,CAAC,CAAC,CAAC;EAC9B,CAAC;AACH;AACA,SAASO,GAAGA,CAAChR,EAAE,EAAE;EACf,MAAM0Q,EAAE,GAAGC,UAAU,CAACC,qBAAqB,CAAC5Q,EAAE,CAAC;EAC/C,OAAO,MAAM;IACX2Q,UAAU,CAACG,oBAAoB,CAACJ,EAAE,CAAC;EACrC,CAAC;AACH;AACA,SAASO,gBAAgBA,CAACtQ,EAAE,EAAE2D,IAAI,EAAE4M,EAAE,EAAE;EACtC,MAAMC,WAAW,GAAGH,GAAG,CAAC,MAAM;IAC5BrQ,EAAE,CAACuM,mBAAmB,CAAC5I,IAAI,EAAE8M,IAAI,EAAE,IAAI,CAAC;IACxCF,EAAE,CAAC,CAAC;EACN,CAAC,CAAC;EACF,MAAME,IAAI,GAAGA,CAAA,KAAM;IACjBD,WAAW,CAAC,CAAC;IACbD,EAAE,CAAC,CAAC;EACN,CAAC;EACDvQ,EAAE,CAACsM,gBAAgB,CAAC3I,IAAI,EAAE8M,IAAI,EAAE;IAAEC,IAAI,EAAE,IAAI;IAAEC,OAAO,EAAE;EAAK,CAAC,CAAC;EAC9D,OAAOH,WAAW;AACpB;;AAEA;AACA,SAASI,qBAAqBA,CAAClQ,IAAI,EAAEyK,OAAO,EAAE;EAC5C,IAAI,CAACzK,IAAI,EAAE;EACX,MAAM;IAAEmQ,UAAU;IAAEC,QAAQ,EAAEzR;EAAG,CAAC,GAAG8L,OAAO;EAC5C,MAAMpH,GAAG,GAAGrD,IAAI,CAAC6B,aAAa,CAACI,WAAW,IAAItC,MAAM;EACpD,MAAM0Q,GAAG,GAAG,IAAIhN,GAAG,CAACiN,gBAAgB,CAAEC,OAAO,IAAK;IAChD,KAAK,MAAMC,MAAM,IAAID,OAAO,EAAE;MAC5B,IAAIC,MAAM,CAACvN,IAAI,KAAK,YAAY,IAAIuN,MAAM,CAACC,aAAa,IAAIN,UAAU,CAAChQ,QAAQ,CAACqQ,MAAM,CAACC,aAAa,CAAC,EAAE;QACrG9R,EAAE,CAAC6R,MAAM,CAAC;MACZ;IACF;EACF,CAAC,CAAC;EACFH,GAAG,CAACK,OAAO,CAAC1Q,IAAI,EAAE;IAAEmQ,UAAU,EAAE,IAAI;IAAEQ,eAAe,EAAER;EAAW,CAAC,CAAC;EACpE,OAAO,MAAME,GAAG,CAACO,UAAU,CAAC,CAAC;AAC/B;AACA,SAASC,iBAAiBA,CAACC,QAAQ,EAAErG,OAAO,EAAE;EAC5C,MAAM;IAAEsG;EAAM,CAAC,GAAGtG,OAAO;EACzB,MAAMuG,IAAI,GAAGD,KAAK,GAAGpB,GAAG,GAAI3R,CAAC,IAAKA,CAAC,CAAC,CAAC;EACrC,MAAMiT,SAAS,GAAG,EAAE;EACpBA,SAAS,CAACC,IAAI,CACZF,IAAI,CAAC,MAAM;IACT,MAAMhR,IAAI,GAAG,OAAO8Q,QAAQ,KAAK,UAAU,GAAGA,QAAQ,CAAC,CAAC,GAAGA,QAAQ;IACnEG,SAAS,CAACC,IAAI,CAAChB,qBAAqB,CAAClQ,IAAI,EAAEyK,OAAO,CAAC,CAAC;EACtD,CAAC,CACH,CAAC;EACD,OAAO,MAAM;IACXwG,SAAS,CAAChE,OAAO,CAAEtO,EAAE,IAAKA,EAAE,GAAG,CAAC,CAAC;EACnC,CAAC;AACH;AACA,SAASwS,mBAAmBA,CAACnR,IAAI,EAAEyK,OAAO,EAAE;EAC1C,MAAM;IAAE2F,QAAQ,EAAEzR;EAAG,CAAC,GAAG8L,OAAO;EAChC,IAAI,CAACzK,IAAI,EAAE;EACX,MAAMqD,GAAG,GAAGrD,IAAI,CAAC6B,aAAa,CAACI,WAAW,IAAItC,MAAM;EACpD,MAAM0Q,GAAG,GAAG,IAAIhN,GAAG,CAACiN,gBAAgB,CAAC3R,EAAE,CAAC;EACxC0R,GAAG,CAACK,OAAO,CAAC1Q,IAAI,EAAE;IAAEoR,SAAS,EAAE,IAAI;IAAEC,OAAO,EAAE;EAAK,CAAC,CAAC;EACrD,OAAO,MAAMhB,GAAG,CAACO,UAAU,CAAC,CAAC;AAC/B;AACA,SAASU,eAAeA,CAACR,QAAQ,EAAErG,OAAO,EAAE;EAC1C,MAAM;IAAEsG;EAAM,CAAC,GAAGtG,OAAO;EACzB,MAAMuG,IAAI,GAAGD,KAAK,GAAGpB,GAAG,GAAI3R,CAAC,IAAKA,CAAC,CAAC,CAAC;EACrC,MAAMiT,SAAS,GAAG,EAAE;EACpBA,SAAS,CAACC,IAAI,CACZF,IAAI,CAAC,MAAM;IACT,MAAMhR,IAAI,GAAG,OAAO8Q,QAAQ,KAAK,UAAU,GAAGA,QAAQ,CAAC,CAAC,GAAGA,QAAQ;IACnEG,SAAS,CAACC,IAAI,CAACC,mBAAmB,CAACnR,IAAI,EAAEyK,OAAO,CAAC,CAAC;EACpD,CAAC,CACH,CAAC;EACD,OAAO,MAAM;IACXwG,SAAS,CAAChE,OAAO,CAAEtO,EAAE,IAAKA,EAAE,GAAG,CAAC,CAAC;EACnC,CAAC;AACH;;AAEA;AACA,SAAS4S,WAAWA,CAACjS,EAAE,EAAE;EACvB,MAAMkS,KAAK,GAAGA,CAAA,KAAMlS,EAAE,CAACkS,KAAK,CAAC,CAAC;EAC9B,IAAIxK,SAAS,CAAC,CAAC,EAAE;IACf4I,gBAAgB,CAACtQ,EAAE,EAAE,OAAO,EAAEkS,KAAK,CAAC;EACtC,CAAC,MAAM;IACLC,cAAc,CAACD,KAAK,CAAC;EACvB;AACF;;AAEA;AACA,SAASE,0BAA0BA,CAACpS,EAAE,EAAE;EACtC,MAAMmC,UAAU,GAAGY,aAAa,CAAC/C,EAAE,CAAC;EACpC,IAAIY,aAAa,CAACuB,UAAU,CAAC,EAAE,OAAOE,WAAW,CAACF,UAAU,CAAC,CAAC4L,IAAI;EAClE,IAAIhO,aAAa,CAACoC,UAAU,CAAC,IAAIkQ,iBAAiB,CAAClQ,UAAU,CAAC,EAAE,OAAOA,UAAU;EACjF,OAAOiQ,0BAA0B,CAACjQ,UAAU,CAAC;AAC/C;AACA,SAASmQ,oBAAoBA,CAACtS,EAAE,EAAEuS,IAAI,GAAG,EAAE,EAAE;EAC3C,MAAMC,kBAAkB,GAAGJ,0BAA0B,CAACpS,EAAE,CAAC;EACzD,MAAMyS,MAAM,GAAGD,kBAAkB,KAAKxS,EAAE,CAACuC,aAAa,CAACwL,IAAI;EAC3D,MAAMhK,GAAG,GAAGrB,SAAS,CAAC8P,kBAAkB,CAAC;EACzC,IAAIC,MAAM,EAAE;IACV,OAAOF,IAAI,CAACG,MAAM,CAAC3O,GAAG,EAAEA,GAAG,CAAC4O,cAAc,IAAI,EAAE,EAAEN,iBAAiB,CAACG,kBAAkB,CAAC,GAAGA,kBAAkB,GAAG,EAAE,CAAC;EACpH;EACA,OAAOD,IAAI,CAACG,MAAM,CAACF,kBAAkB,EAAEF,oBAAoB,CAACE,kBAAkB,EAAE,EAAE,CAAC,CAAC;AACtF;AACA,IAAII,cAAc,GAAI5S,EAAE,IAAK;EAC3B,IAAID,aAAa,CAACC,EAAE,CAAC,EAAE,OAAOA,EAAE,CAACkE,qBAAqB,CAAC,CAAC;EACxD,IAAI5D,gBAAgB,CAACN,EAAE,CAAC,EAAE,OAAO;IAAE6S,GAAG,EAAE,CAAC;IAAEC,IAAI,EAAE,CAAC;IAAEC,MAAM,EAAE/S,EAAE,CAACwE,MAAM;IAAEwO,KAAK,EAAEhT,EAAE,CAACuE;EAAM,CAAC;EACxF,OAAO;IAAEsO,GAAG,EAAE,CAAC;IAAEC,IAAI,EAAE,CAAC;IAAEC,MAAM,EAAE/S,EAAE,CAACiT,WAAW;IAAED,KAAK,EAAEhT,EAAE,CAACkT;EAAW,CAAC;AAC1E,CAAC;AACD,SAASC,QAAQA,CAACnT,EAAE,EAAEoT,QAAQ,EAAE;EAC9B,IAAI,CAACrT,aAAa,CAACC,EAAE,CAAC,EAAE,OAAO,IAAI;EACnC,MAAMqT,YAAY,GAAGT,cAAc,CAACQ,QAAQ,CAAC;EAC7C,MAAME,MAAM,GAAGtT,EAAE,CAACkE,qBAAqB,CAAC,CAAC;EACzC,OAAOoP,MAAM,CAACT,GAAG,IAAIQ,YAAY,CAACR,GAAG,IAAIS,MAAM,CAACR,IAAI,IAAIO,YAAY,CAACP,IAAI,IAAIQ,MAAM,CAACP,MAAM,IAAIM,YAAY,CAACN,MAAM,IAAIO,MAAM,CAACN,KAAK,IAAIK,YAAY,CAACL,KAAK;AACzJ;AACA,IAAIO,WAAW,GAAG,iCAAiC;AACnD,SAASlB,iBAAiBA,CAACrS,EAAE,EAAE;EAC7B,MAAM+D,GAAG,GAAGrB,SAAS,CAAC1C,EAAE,CAAC;EACzB,MAAM;IAAEwT,QAAQ;IAAEC,SAAS;IAAEC,SAAS;IAAEC;EAAQ,CAAC,GAAG5P,GAAG,CAACX,gBAAgB,CAACpD,EAAE,CAAC;EAC5E,OAAOuT,WAAW,CAAC7R,IAAI,CAAC8R,QAAQ,GAAGE,SAAS,GAAGD,SAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC5S,QAAQ,CAAC8S,OAAO,CAAC;AACxG;AACA,SAASC,YAAYA,CAAC5T,EAAE,EAAE;EACxB,OAAOA,EAAE,CAAC6T,YAAY,GAAG7T,EAAE,CAAC8T,YAAY,IAAI9T,EAAE,CAAC+T,WAAW,GAAG/T,EAAE,CAACgU,WAAW;AAC7E;AACA,SAASC,cAAcA,CAACjU,EAAE,EAAEmL,OAAO,EAAE;EACnC,MAAM;IAAE+I,MAAM;IAAE,GAAGC;EAAc,CAAC,GAAGhJ,OAAO,IAAI,CAAC,CAAC;EAClD,IAAI,CAACnL,EAAE,IAAI,CAACkU,MAAM,EAAE;EACpB,IAAI,CAAC7B,iBAAiB,CAAC6B,MAAM,CAAC,IAAI,CAACN,YAAY,CAACM,MAAM,CAAC,EAAE;EACzDlU,EAAE,CAACiU,cAAc,CAACE,aAAa,CAAC;AAClC;AACA,SAASC,iBAAiBA,CAACxL,OAAO,EAAE;EAClC,IAAI7I,aAAa,CAAC6I,OAAO,CAAC,EAAE;IAC1B,OAAO;MAAEyL,UAAU,EAAEzL,OAAO,CAACyL,UAAU;MAAEC,SAAS,EAAE1L,OAAO,CAAC0L;IAAU,CAAC;EACzE;EACA,OAAO;IAAED,UAAU,EAAEzL,OAAO,CAAC2L,OAAO;IAAED,SAAS,EAAE1L,OAAO,CAAC4L;EAAQ,CAAC;AACpE;;AAEA;AACA,SAASC,gBAAgBA,CAAC1I,KAAK,EAAEnD,OAAO,EAAE;EACxC,MAAM;IAAEkK,IAAI;IAAED,GAAG;IAAEtO,KAAK;IAAEC;EAAO,CAAC,GAAGoE,OAAO,CAAC1E,qBAAqB,CAAC,CAAC;EACpE,MAAMwQ,MAAM,GAAG;IAAEzI,CAAC,EAAEF,KAAK,CAACE,CAAC,GAAG6G,IAAI;IAAE5G,CAAC,EAAEH,KAAK,CAACG,CAAC,GAAG2G;EAAI,CAAC;EACtD,MAAM8B,OAAO,GAAG;IAAE1I,CAAC,EAAE7N,KAAK,CAACsW,MAAM,CAACzI,CAAC,GAAG1H,KAAK,CAAC;IAAE2H,CAAC,EAAE9N,KAAK,CAACsW,MAAM,CAACxI,CAAC,GAAG1H,MAAM;EAAE,CAAC;EAC3E,SAASoQ,eAAeA,CAACzJ,OAAO,GAAG,CAAC,CAAC,EAAE;IACrC,MAAM;MAAEC,GAAG,GAAG,KAAK;MAAEC,WAAW,GAAG,YAAY;MAAEwJ;IAAS,CAAC,GAAG1J,OAAO;IACrE,MAAM2J,OAAO,GAAG,OAAOD,QAAQ,KAAK,QAAQ,GAAGA,QAAQ,CAAC5I,CAAC,GAAG4I,QAAQ;IACpE,MAAME,OAAO,GAAG,OAAOF,QAAQ,KAAK,QAAQ,GAAGA,QAAQ,CAAC3I,CAAC,GAAG2I,QAAQ;IACpE,IAAIxJ,WAAW,KAAK,YAAY,EAAE;MAChC,OAAOD,GAAG,KAAK,KAAK,IAAI0J,OAAO,GAAG,CAAC,GAAGH,OAAO,CAAC1I,CAAC,GAAG0I,OAAO,CAAC1I,CAAC;IAC7D;IACA,OAAO8I,OAAO,GAAG,CAAC,GAAGJ,OAAO,CAACzI,CAAC,GAAGyI,OAAO,CAACzI,CAAC;EAC5C;EACA,OAAO;IAAEwI,MAAM;IAAEC,OAAO;IAAEC;EAAgB,CAAC;AAC7C;;AAEA;AACA,SAASI,kBAAkBA,CAAChR,GAAG,EAAE3E,EAAE,EAAE;EACnC,MAAM0O,IAAI,GAAG/J,GAAG,CAAC+J,IAAI;EACrB,MAAMkH,SAAS,GAAG,oBAAoB,IAAIjR,GAAG,IAAI,uBAAuB,IAAIA,GAAG;EAC/E,MAAMkR,QAAQ,GAAGA,CAAA,KAAM,CAAC,CAAClR,GAAG,CAACmR,kBAAkB;EAC/C,SAASC,eAAeA,CAAA,EAAG;IACzB/V,EAAE,GAAG6V,QAAQ,CAAC,CAAC,CAAC;EAClB;EACA,SAASG,cAAcA,CAACrN,KAAK,EAAE;IAC7B,IAAIkN,QAAQ,CAAC,CAAC,EAAE7V,EAAE,GAAG,KAAK,CAAC;IAC3BiW,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEvN,KAAK,CAAC;IACnDhE,GAAG,CAACwR,eAAe,CAAC,CAAC;EACvB;EACA,IAAI,CAACP,SAAS,EAAE;EAChB,IAAI;IACFlH,IAAI,CAACiH,kBAAkB,CAAC,CAAC;EAC3B,CAAC,CAAC,MAAM,CACR;EACA,MAAM5E,OAAO,GAAG,CACdjE,WAAW,CAACnI,GAAG,EAAE,mBAAmB,EAAEoR,eAAe,EAAE,KAAK,CAAC,EAC7DjJ,WAAW,CAACnI,GAAG,EAAE,kBAAkB,EAAEqR,cAAc,EAAE,KAAK,CAAC,CAC5D;EACD,OAAO,MAAM;IACXjF,OAAO,CAACzC,OAAO,CAAE8H,QAAQ,IAAKA,QAAQ,CAAC,CAAC,CAAC;IACzCzR,GAAG,CAACwR,eAAe,CAAC,CAAC;EACvB,CAAC;AACH;;AAEA;AACA,IAAIE,KAAK,GAAG,SAAS;AACrB,IAAIC,UAAU,GAAG,EAAE;AACnB,IAAIC,UAAU,GAAG,eAAgB,IAAIzS,OAAO,CAAC,CAAC;AAC9C,SAAS0S,wBAAwBA,CAAC1K,OAAO,GAAG,CAAC,CAAC,EAAE;EAC9C,MAAM;IAAE1C,MAAM;IAAEzE;EAAI,CAAC,GAAGmH,OAAO;EAC/B,MAAM2K,OAAO,GAAG9R,GAAG,IAAI1B,QAAQ;EAC/B,MAAM4R,MAAM,GAAG4B,OAAO,CAACrT,eAAe;EACtC,IAAIkF,KAAK,CAAC,CAAC,EAAE;IACX,IAAI+N,KAAK,KAAK,SAAS,EAAE;MACvBC,UAAU,GAAGzB,MAAM,CAAC6B,KAAK,CAACC,gBAAgB;MAC1C9B,MAAM,CAAC6B,KAAK,CAACC,gBAAgB,GAAG,MAAM;IACxC;IACAN,KAAK,GAAG,UAAU;EACpB,CAAC,MAAM,IAAIjN,MAAM,EAAE;IACjBmN,UAAU,CAACtS,GAAG,CAACmF,MAAM,EAAEA,MAAM,CAACsN,KAAK,CAACJ,UAAU,CAAC;IAC/ClN,MAAM,CAACsN,KAAK,CAACJ,UAAU,GAAG,MAAM;EAClC;EACA,OAAO,MAAMM,oBAAoB,CAAC;IAAExN,MAAM;IAAEzE,GAAG,EAAE8R;EAAQ,CAAC,CAAC;AAC7D;AACA,SAASG,oBAAoBA,CAAC9K,OAAO,GAAG,CAAC,CAAC,EAAE;EAC1C,MAAM;IAAE1C,MAAM;IAAEzE;EAAI,CAAC,GAAGmH,OAAO;EAC/B,MAAM2K,OAAO,GAAG9R,GAAG,IAAI1B,QAAQ;EAC/B,MAAM4R,MAAM,GAAG4B,OAAO,CAACrT,eAAe;EACtC,IAAIkF,KAAK,CAAC,CAAC,EAAE;IACX,IAAI+N,KAAK,KAAK,UAAU,EAAE;IAC1BA,KAAK,GAAG,WAAW;IACnBQ,UAAU,CAAC,MAAM;MACfvG,QAAQ,CAAC,MAAM;QACb,IAAI+F,KAAK,KAAK,WAAW,EAAE;UACzB,IAAIxB,MAAM,CAAC6B,KAAK,CAACC,gBAAgB,KAAK,MAAM,EAAE;YAC5C9B,MAAM,CAAC6B,KAAK,CAACC,gBAAgB,GAAGL,UAAU,IAAI,EAAE;UAClD;UACAA,UAAU,GAAG,EAAE;UACfD,KAAK,GAAG,SAAS;QACnB;MACF,CAAC,CAAC;IACJ,CAAC,EAAE,GAAG,CAAC;EACT,CAAC,MAAM;IACL,IAAIjN,MAAM,IAAImN,UAAU,CAACvS,GAAG,CAACoF,MAAM,CAAC,EAAE;MACpC,MAAM0N,cAAc,GAAGP,UAAU,CAACrS,GAAG,CAACkF,MAAM,CAAC;MAC7C,IAAIA,MAAM,CAACsN,KAAK,CAACJ,UAAU,KAAK,MAAM,EAAE;QACtClN,MAAM,CAACsN,KAAK,CAACJ,UAAU,GAAGQ,cAAc,IAAI,EAAE;MAChD;MACA,IAAI1N,MAAM,CAAC7G,YAAY,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE;QACvC6G,MAAM,CAAC2N,eAAe,CAAC,OAAO,CAAC;MACjC;MACAR,UAAU,CAACS,MAAM,CAAC5N,MAAM,CAAC;IAC3B;EACF;AACF;AACA,SAAS6N,oBAAoBA,CAACnL,OAAO,GAAG,CAAC,CAAC,EAAE;EAC1C,MAAM;IAAEsG,KAAK;IAAEhJ,MAAM;IAAE,GAAG8N;EAAY,CAAC,GAAGpL,OAAO;EACjD,MAAMuG,IAAI,GAAGD,KAAK,GAAGpB,GAAG,GAAI3R,CAAC,IAAKA,CAAC,CAAC,CAAC;EACrC,MAAMiT,SAAS,GAAG,EAAE;EACpBA,SAAS,CAACC,IAAI,CACZF,IAAI,CAAC,MAAM;IACT,MAAMhR,IAAI,GAAG,OAAO+H,MAAM,KAAK,UAAU,GAAGA,MAAM,CAAC,CAAC,GAAGA,MAAM;IAC7DkJ,SAAS,CAACC,IAAI,CAACiE,wBAAwB,CAAC;MAAE,GAAGU,WAAW;MAAE9N,MAAM,EAAE/H;IAAK,CAAC,CAAC,CAAC;EAC5E,CAAC,CACH,CAAC;EACD,OAAO,MAAM;IACXiR,SAAS,CAAChE,OAAO,CAAEtO,EAAE,IAAKA,EAAE,GAAG,CAAC,CAAC;EACnC,CAAC;AACH;;AAEA;AACA,SAASmX,gBAAgBA,CAACxS,GAAG,EAAEyS,QAAQ,EAAE;EACvC,MAAM;IAAEC,aAAa;IAAEC;EAAY,CAAC,GAAGF,QAAQ;EAC/C,MAAMG,UAAU,GAAI5O,KAAK,IAAK;IAC5B,MAAM+D,KAAK,GAAGD,aAAa,CAAC9D,KAAK,CAAC;IAClC,MAAM6O,QAAQ,GAAGvY,IAAI,CAACwY,IAAI,CAAC/K,KAAK,CAACE,CAAC,IAAI,CAAC,GAAGF,KAAK,CAACG,CAAC,IAAI,CAAC,CAAC;IACvD,MAAM6K,UAAU,GAAG/O,KAAK,CAAC8B,WAAW,KAAK,OAAO,GAAG,EAAE,GAAG,CAAC;IACzD,IAAI+M,QAAQ,GAAGE,UAAU,EAAE;IAC3B,IAAI/O,KAAK,CAAC8B,WAAW,KAAK,OAAO,IAAI9B,KAAK,CAACoC,MAAM,KAAK,CAAC,EAAE;MACvDuM,WAAW,CAAC,CAAC;MACb;IACF;IACAD,aAAa,CAAC;MAAE3K,KAAK;MAAE/D;IAAM,CAAC,CAAC;EACjC,CAAC;EACD,MAAM2J,SAAS,GAAG,CAChBxF,WAAW,CAACnI,GAAG,EAAE,aAAa,EAAE4S,UAAU,EAAE,KAAK,CAAC,EAClDzK,WAAW,CAACnI,GAAG,EAAE,WAAW,EAAE2S,WAAW,EAAE,KAAK,CAAC,EACjDxK,WAAW,CAACnI,GAAG,EAAE,eAAe,EAAE2S,WAAW,EAAE,KAAK,CAAC,EACrDxK,WAAW,CAACnI,GAAG,EAAE,aAAa,EAAE2S,WAAW,EAAE,KAAK,CAAC,EACnDL,oBAAoB,CAAC;IAAEtS;EAAI,CAAC,CAAC,CAC9B;EACD,OAAO,MAAM;IACX2N,SAAS,CAAChE,OAAO,CAAEyC,OAAO,IAAKA,OAAO,CAAC,CAAC,CAAC;EAC3C,CAAC;AACH;;AAEA;AACA,SAAS4G,UAAUA,CAAC7L,OAAO,EAAE;EAC3B,MAAM;IACJ8L,WAAW;IACXC,YAAY,GAAGD,WAAW;IAC1BE,OAAO;IACPC,YAAY;IACZC,UAAU;IACVC,UAAU,GAAIhO,CAAC,IAAKA,CAAC,CAACK,GAAG,KAAK;EAChC,CAAC,GAAGwB,OAAO;EACX,IAAI,CAAC8L,WAAW,EAAE,OAAO3X,IAAI;EAC7B,MAAMyE,GAAG,GAAGrB,SAAS,CAACuU,WAAW,CAAC;EAClC,MAAMjT,GAAG,GAAG3B,WAAW,CAAC4U,WAAW,CAAC;EACpC,IAAIM,oBAAoB,GAAGjY,IAAI;EAC/B,IAAIkY,kBAAkB,GAAGlY,IAAI;EAC7B,IAAImY,yBAAyB,GAAGnY,IAAI;EACpC,MAAMoY,OAAO,GAAI1P,KAAK,KAAM;IAC1B+D,KAAK,EAAED,aAAa,CAAC9D,KAAK,CAAC;IAC3BA;EACF,CAAC,CAAC;EACF,SAAS2P,UAAUA,CAAC3P,KAAK,EAAE;IACzBoP,YAAY,GAAGM,OAAO,CAAC1P,KAAK,CAAC,CAAC;EAChC;EACA,SAAS4P,WAAWA,CAAC5P,KAAK,EAAE;IAC1BqP,UAAU,GAAGK,OAAO,CAAC1P,KAAK,CAAC,CAAC;EAC9B;EACA,MAAM6P,iBAAiB,GAAIC,UAAU,IAAK;IACxCN,kBAAkB,CAAC,CAAC;IACpB,MAAMO,eAAe,GAAIC,QAAQ,IAAK;MACpC,MAAMvP,MAAM,GAAGD,cAAc,CAACwP,QAAQ,CAAC;MACvC,IAAInW,QAAQ,CAACoV,WAAW,EAAExO,MAAM,CAAC,EAAE;QACjC0O,OAAO,GAAGO,OAAO,CAACM,QAAQ,CAAC,CAAC;MAC9B,CAAC,MAAM;QACLX,UAAU,GAAGK,OAAO,CAACM,QAAQ,CAAC,CAAC;MACjC;IACF,CAAC;IACD,MAAMC,uBAAuB,GAAG9L,WAAW,CAACpI,GAAG,EAAE,WAAW,EAAEgU,eAAe,EAAE;MAAEG,OAAO,EAAE,CAACf;IAAQ,CAAC,CAAC;IACrG,MAAMgB,2BAA2B,GAAGhM,WAAW,CAACpI,GAAG,EAAE,eAAe,EAAE6T,WAAW,EAAE;MAAEM,OAAO,EAAE,CAACb;IAAW,CAAC,CAAC;IAC5GG,kBAAkB,GAAGxY,IAAI,CAACiZ,uBAAuB,EAAEE,2BAA2B,CAAC;IAC/E,IAAInU,GAAG,CAACnB,aAAa,KAAKqU,YAAY,IAAIY,UAAU,CAAChO,WAAW,KAAK,OAAO,EAAE;MAC5EgO,UAAU,CAACM,cAAc,CAAC,CAAC;IAC7B;IACAT,UAAU,CAACG,UAAU,CAAC;EACxB,CAAC;EACD,MAAMO,qBAAqB,GAAGlM,WAAW,CAAC8K,WAAW,EAAE,aAAa,EAAEY,iBAAiB,EAAE;IAAEK,OAAO,EAAE,CAACd;EAAa,CAAC,CAAC;EACpH,MAAMkB,mBAAmB,GAAGnM,WAAW,CAAC+K,YAAY,EAAE,OAAO,EAAEqB,oBAAoB,CAAC;EACpFhB,oBAAoB,GAAGvY,IAAI,CAACqZ,qBAAqB,EAAEC,mBAAmB,CAAC;EACvE,SAASC,oBAAoBA,CAAA,EAAG;IAC9B,MAAMC,aAAa,GAAIC,YAAY,IAAK;MACtC,IAAI,CAACnB,UAAU,CAACmB,YAAY,CAAC,EAAE;MAC/B,MAAMC,WAAW,GAAIC,UAAU,IAAK;QAClC,IAAI,CAACrB,UAAU,CAACqB,UAAU,CAAC,EAAE;QAC7B,MAAMC,IAAI,GAAG,IAAI7U,GAAG,CAAC8U,YAAY,CAAC,WAAW,CAAC;QAC9C,MAAMC,IAAI,GAAGpB,OAAO,CAACkB,IAAI,CAAC;QAC1BzB,OAAO,GAAG2B,IAAI,CAAC;QACfzB,UAAU,GAAGyB,IAAI,CAAC;MACpB,CAAC;MACDtB,kBAAkB,CAAC,CAAC;MACpBA,kBAAkB,GAAGrL,WAAW,CAAC+K,YAAY,EAAE,OAAO,EAAEwB,WAAW,CAAC;MACpE,MAAMK,GAAG,GAAG,IAAIhV,GAAG,CAAC8U,YAAY,CAAC,aAAa,CAAC;MAC/ClB,UAAU,CAACoB,GAAG,CAAC;IACjB,CAAC;IACD,MAAMC,UAAU,GAAGA,CAAA,KAAM;MACvB,MAAMD,GAAG,GAAG,IAAIhV,GAAG,CAAC8U,YAAY,CAAC,eAAe,CAAC;MACjDjB,WAAW,CAACmB,GAAG,CAAC;IAClB,CAAC;IACD,MAAME,qBAAqB,GAAG9M,WAAW,CAAC+K,YAAY,EAAE,SAAS,EAAEsB,aAAa,CAAC;IACjF,MAAMU,kBAAkB,GAAG/M,WAAW,CAAC+K,YAAY,EAAE,MAAM,EAAE8B,UAAU,CAAC;IACxEvB,yBAAyB,GAAGzY,IAAI,CAACia,qBAAqB,EAAEC,kBAAkB,CAAC;EAC7E;EACA,OAAO,MAAM;IACX3B,oBAAoB,CAAC,CAAC;IACtBC,kBAAkB,CAAC,CAAC;IACpBC,yBAAyB,CAAC,CAAC;EAC7B,CAAC;AACH;;AAEA;AACA,SAAS0B,iBAAiBA,CAAClM,SAAS,EAAE9B,OAAO,GAAG,CAAC,CAAC,EAAE;EAClD,MAAM;IAAEiO,cAAc;IAAEC;EAAQ,CAAC,GAAGlO,OAAO;EAC3C,MAAMnH,GAAG,GAAGiJ,SAAS,EAAE1K,aAAa,IAAID,QAAQ;EAChD,MAAMyL,IAAI,GAAG/J,GAAG,CAAC+J,IAAI;EACrB,SAASuL,SAASA,CAACtR,KAAK,EAAE;IACxB,IAAIA,KAAK,CAAC2B,GAAG,KAAK,KAAK,EAAE;IACzB,IAAI4P,cAAc,GAAG,IAAI;IACzB,MAAM,CAAC9J,aAAa,EAAEC,YAAY,CAAC,GAAGf,gBAAgB,CAAC1B,SAAS,EAAE,IAAI,CAAC;IACvE,MAAMuM,kBAAkB,GAAG,CAAC/J,aAAa,IAAI,CAACC,YAAY;IAC1D,IAAI1H,KAAK,CAAC6D,QAAQ,KAAK7H,GAAG,CAACnB,aAAa,KAAK4M,aAAa,IAAI+J,kBAAkB,CAAC,EAAE;MACjFD,cAAc,GAAGH,cAAc;IACjC,CAAC,MAAM,IAAI,CAACpR,KAAK,CAAC6D,QAAQ,IAAI7H,GAAG,CAACnB,aAAa,KAAKuW,cAAc,EAAE;MAClEG,cAAc,GAAG9J,aAAa;IAChC,CAAC,MAAM,IAAI,CAACzH,KAAK,CAAC6D,QAAQ,KAAK7H,GAAG,CAACnB,aAAa,KAAK6M,YAAY,IAAI8J,kBAAkB,CAAC,EAAE;MACxFD,cAAc,GAAG1K,eAAe,CAACd,IAAI,EAAEqL,cAAc,CAAC;IACxD;IACA,IAAI,CAACG,cAAc,EAAE;IACrBvR,KAAK,CAACoQ,cAAc,CAAC,CAAC;IACtB,IAAI,OAAOiB,OAAO,KAAK,UAAU,EAAE;MACjCA,OAAO,CAACE,cAAc,CAAC;IACzB,CAAC,MAAM;MACLA,cAAc,CAACE,KAAK,CAAC,CAAC;IACxB;EACF;EACA,OAAOtN,WAAW,CAACnI,GAAG,EAAE,SAAS,EAAEsV,SAAS,EAAE,IAAI,CAAC;AACrD;AACA,SAASI,aAAaA,CAACzM,SAAS,EAAE9B,OAAO,EAAE;EACzC,MAAM;IAAEsG,KAAK;IAAE2H,cAAc;IAAE,GAAG7C;EAAY,CAAC,GAAGpL,OAAO;EACzD,MAAMuG,IAAI,GAAGD,KAAK,GAAGpB,GAAG,GAAI3R,CAAC,IAAKA,CAAC,CAAC,CAAC;EACrC,MAAMiT,SAAS,GAAG,EAAE;EACpBA,SAAS,CAACC,IAAI,CACZF,IAAI,CAAC,MAAM;IACT,MAAMhR,IAAI,GAAG,OAAOuM,SAAS,KAAK,UAAU,GAAGA,SAAS,CAAC,CAAC,GAAGA,SAAS;IACtE,MAAM0M,OAAO,GAAG,OAAOP,cAAc,KAAK,UAAU,GAAGA,cAAc,CAAC,CAAC,GAAGA,cAAc;IACxFzH,SAAS,CAACC,IAAI,CAACuH,iBAAiB,CAACzY,IAAI,EAAE;MAAE0Y,cAAc,EAAEO,OAAO;MAAE,GAAGpD;IAAY,CAAC,CAAC,CAAC;EACtF,CAAC,CACH,CAAC;EACD,OAAO,MAAM;IACX5E,SAAS,CAAChE,OAAO,CAAEtO,EAAE,IAAKA,EAAE,GAAG,CAAC,CAAC;EACnC,CAAC;AACH;;AAEA;AACA,SAASua,QAAQA,CAACxK,IAAI,EAAEyK,QAAQ,EAAE;EAChC,OAAOnT,KAAK,CAAC0G,IAAI,CAACgC,IAAI,EAAE/B,gBAAgB,CAACwM,QAAQ,CAAC,IAAI,EAAE,CAAC;AAC3D;AACA,SAASC,KAAKA,CAAC1K,IAAI,EAAEyK,QAAQ,EAAE;EAC7B,OAAOzK,IAAI,EAAEG,aAAa,CAACsK,QAAQ,CAAC,IAAI,IAAI;AAC9C;AACA,IAAIE,eAAe,GAAIrb,CAAC,IAAKA,CAAC,CAACqR,EAAE;AACjC,SAASiK,QAAQA,CAACtb,CAAC,EAAEqR,EAAE,EAAEkK,QAAQ,GAAGF,eAAe,EAAE;EACnD,OAAOrb,CAAC,CAACwb,IAAI,CAAEC,IAAI,IAAKF,QAAQ,CAACE,IAAI,CAAC,KAAKpK,EAAE,CAAC;AAChD;AACA,SAASqK,SAASA,CAAC1b,CAAC,EAAEqR,EAAE,EAAEkK,QAAQ,GAAGF,eAAe,EAAE;EACpD,MAAMI,IAAI,GAAGH,QAAQ,CAACtb,CAAC,EAAEqR,EAAE,EAAEkK,QAAQ,CAAC;EACtC,OAAOE,IAAI,GAAGzb,CAAC,CAACuQ,OAAO,CAACkL,IAAI,CAAC,GAAG,CAAC,CAAC;AACpC;AACA,SAASE,QAAQA,CAAC3b,CAAC,EAAEqR,EAAE,EAAEuK,IAAI,GAAG,IAAI,EAAE;EACpC,IAAI3b,GAAG,GAAGyb,SAAS,CAAC1b,CAAC,EAAEqR,EAAE,CAAC;EAC1BpR,GAAG,GAAG2b,IAAI,GAAG,CAAC3b,GAAG,GAAG,CAAC,IAAID,CAAC,CAACK,MAAM,GAAGT,IAAI,CAACE,GAAG,CAACG,GAAG,GAAG,CAAC,EAAED,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC;EACnE,OAAOL,CAAC,CAACC,GAAG,CAAC;AACf;AACA,SAAS4b,QAAQA,CAAC7b,CAAC,EAAEqR,EAAE,EAAEuK,IAAI,GAAG,IAAI,EAAE;EACpC,IAAI3b,GAAG,GAAGyb,SAAS,CAAC1b,CAAC,EAAEqR,EAAE,CAAC;EAC1B,IAAIpR,GAAG,KAAK,CAAC,CAAC,EAAE,OAAO2b,IAAI,GAAG5b,CAAC,CAACA,CAAC,CAACK,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI;EACpDJ,GAAG,GAAG2b,IAAI,GAAG,CAAC3b,GAAG,GAAG,CAAC,GAAGD,CAAC,CAACK,MAAM,IAAIL,CAAC,CAACK,MAAM,GAAGT,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEI,GAAG,GAAG,CAAC,CAAC;EACnE,OAAOD,CAAC,CAACC,GAAG,CAAC;AACf;;AAEA;AACA,SAAS6b,WAAWA,CAACC,OAAO,EAAE;EAC5B,MAAMC,GAAG,GAAG;IACVzY,WAAW,EAAG0Y,GAAG,IAAKA,GAAG,CAAC1Y,WAAW,GAAG,CAAC,IAAIK,QAAQ;IACrDsY,MAAM,EAAGD,GAAG,IAAKtY,WAAW,CAACqY,GAAG,CAACzY,WAAW,CAAC0Y,GAAG,CAAC,CAAC;IAClDE,MAAM,EAAGF,GAAG,IAAKD,GAAG,CAACE,MAAM,CAACD,GAAG,CAAC,CAAChY,WAAW,IAAItC,MAAM;IACtDuC,gBAAgB,EAAG+X,GAAG,IAAK/X,gBAAgB,CAAC8X,GAAG,CAACzY,WAAW,CAAC0Y,GAAG,CAAC,CAAC;IACjEG,eAAe,EAAEA,CAACH,GAAG,EAAEI,IAAI,KAAKA,IAAI,KAAKL,GAAG,CAAC9X,gBAAgB,CAAC+X,GAAG,CAAC;IAClEK,OAAO,EAAEA,CAACL,GAAG,EAAE5K,EAAE,KAAK2K,GAAG,CAACzY,WAAW,CAAC0Y,GAAG,CAAC,CAACM,cAAc,CAAClL,EAAE,CAAC;IAC7DmL,QAAQ,EAAEA,CAACH,IAAI,EAAE1c,KAAK,KAAK;MACzB,IAAI0c,IAAI,IAAI,IAAI,IAAI1c,KAAK,IAAI,IAAI,EAAE;MACnC,MAAM8c,aAAa,GAAG9c,KAAK,CAAC+c,QAAQ,CAAC,CAAC;MACtC,IAAIL,IAAI,CAAC1c,KAAK,KAAK8c,aAAa,EAAE;MAClCJ,IAAI,CAAC1c,KAAK,GAAGA,KAAK,CAAC+c,QAAQ,CAAC,CAAC;IAC/B;EACF,CAAC;EACD,OAAO;IAAE,GAAGV,GAAG;IAAE,GAAGD;EAAQ,CAAC;AAC/B;;AAEA;AACA,IAAIY,QAAQ,GAAInW,GAAG,IAAKA,GAAG,CAACoW,KAAK,CAAC,EAAE,CAAC,CAAC1c,GAAG,CAAE2c,IAAI,IAAK;EAClD,MAAMC,IAAI,GAAGD,IAAI,CAACE,UAAU,CAAC,CAAC,CAAC;EAC/B,IAAID,IAAI,GAAG,CAAC,IAAIA,IAAI,GAAG,GAAG,EAAE,OAAOD,IAAI;EACvC,IAAIC,IAAI,IAAI,GAAG,IAAIA,IAAI,IAAI,GAAG,EAAE,OAAO,KAAKA,IAAI,CAACJ,QAAQ,CAAC,EAAE,CAAC,EAAE,CAACM,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC;EAClF,OAAO,EAAE;AACX,CAAC,CAAC,CAAC3U,IAAI,CAAC,EAAE,CAAC,CAAC4U,IAAI,CAAC,CAAC;AAClB,IAAIC,YAAY,GAAI5b,EAAE,IAAK;EACzB,OAAOqb,QAAQ,CAACrb,EAAE,CAAC6b,OAAO,EAAEC,SAAS,IAAI9b,EAAE,CAAC+b,WAAW,IAAI,EAAE,CAAC;AAChE,CAAC;AACD,IAAIC,KAAK,GAAGA,CAACC,SAAS,EAAEC,MAAM,KAAK;EACjC,OAAOD,SAAS,CAACN,IAAI,CAAC,CAAC,CAACQ,WAAW,CAAC,CAAC,CAACC,UAAU,CAACF,MAAM,CAACC,WAAW,CAAC,CAAC,CAAC;AACxE,CAAC;AACD,SAASE,SAASA,CAAC3d,CAAC,EAAE4d,IAAI,EAAEC,SAAS,EAAEtC,QAAQ,GAAGF,eAAe,EAAE;EACjE,MAAMjb,KAAK,GAAGyd,SAAS,GAAGnC,SAAS,CAAC1b,CAAC,EAAE6d,SAAS,EAAEtC,QAAQ,CAAC,GAAG,CAAC,CAAC;EAChE,IAAIuC,KAAK,GAAGD,SAAS,GAAG9d,IAAI,CAACC,CAAC,EAAEI,KAAK,CAAC,GAAGJ,CAAC;EAC1C,MAAM+d,WAAW,GAAGH,IAAI,CAACvd,MAAM,KAAK,CAAC;EACrC,IAAI0d,WAAW,EAAE;IACfD,KAAK,GAAGA,KAAK,CAAC9O,MAAM,CAAEyM,IAAI,IAAKF,QAAQ,CAACE,IAAI,CAAC,KAAKoC,SAAS,CAAC;EAC9D;EACA,OAAOC,KAAK,CAACtC,IAAI,CAAEC,IAAI,IAAK6B,KAAK,CAACJ,YAAY,CAACzB,IAAI,CAAC,EAAEmC,IAAI,CAAC,CAAC;AAC9D;;AAEA;AACA,IAAII,QAAQ,GAAG,eAAgB,IAAIvZ,OAAO,CAAC,CAAC;AAC5C,SAASG,GAAGA,CAACsF,OAAO,EAAEe,GAAG,EAAEgT,KAAK,EAAE;EAChC,IAAI,CAACD,QAAQ,CAACrZ,GAAG,CAACuF,OAAO,CAAC,EAAE;IAC1B8T,QAAQ,CAACpZ,GAAG,CAACsF,OAAO,EAAE,eAAgB,IAAIgU,GAAG,CAAC,CAAC,CAAC;EAClD;EACA,MAAMC,eAAe,GAAGH,QAAQ,CAACnZ,GAAG,CAACqF,OAAO,CAAC;EAC7C,MAAMkU,WAAW,GAAGD,eAAe,CAACtZ,GAAG,CAACoG,GAAG,CAAC;EAC5C,IAAI,CAACmT,WAAW,EAAE;IAChBD,eAAe,CAACvZ,GAAG,CAACqG,GAAG,EAAEgT,KAAK,CAAC,CAAC,CAAC;IACjC,OAAO,MAAM;MACXE,eAAe,CAACtZ,GAAG,CAACoG,GAAG,CAAC,GAAG,CAAC;MAC5BkT,eAAe,CAACxG,MAAM,CAAC1M,GAAG,CAAC;IAC7B,CAAC;EACH;EACA,MAAMyG,OAAO,GAAGuM,KAAK,CAAC,CAAC;EACvB,MAAMI,WAAW,GAAGA,CAAA,KAAM;IACxB3M,OAAO,CAAC,CAAC;IACT0M,WAAW,CAAC,CAAC;IACbD,eAAe,CAACxG,MAAM,CAAC1M,GAAG,CAAC;EAC7B,CAAC;EACDkT,eAAe,CAACvZ,GAAG,CAACqG,GAAG,EAAEoT,WAAW,CAAC;EACrC,OAAO,MAAM;IACX,MAAMC,SAAS,GAAGH,eAAe,CAACtZ,GAAG,CAACoG,GAAG,CAAC,KAAKoT,WAAW;IAC1D,IAAI,CAACC,SAAS,EAAE;IAChB5M,OAAO,CAAC,CAAC;IACTyM,eAAe,CAACvZ,GAAG,CAACqG,GAAG,EAAEmT,WAAW,CAAC;EACvC,CAAC;AACH;AACA,SAASxY,YAAYA,CAACsE,OAAO,EAAEqU,IAAI,EAAE5e,KAAK,EAAE;EAC1C,MAAMse,KAAK,GAAGA,CAAA,KAAM;IAClB,MAAMO,aAAa,GAAGtU,OAAO,CAAChH,YAAY,CAACqb,IAAI,CAAC;IAChDrU,OAAO,CAACtE,YAAY,CAAC2Y,IAAI,EAAE5e,KAAK,CAAC;IACjC,OAAO,MAAM;MACX,IAAI6e,aAAa,IAAI,IAAI,EAAE;QACzBtU,OAAO,CAACwN,eAAe,CAAC6G,IAAI,CAAC;MAC/B,CAAC,MAAM;QACLrU,OAAO,CAACtE,YAAY,CAAC2Y,IAAI,EAAEC,aAAa,CAAC;MAC3C;IACF,CAAC;EACH,CAAC;EACD,OAAO5Z,GAAG,CAACsF,OAAO,EAAEqU,IAAI,EAAEN,KAAK,CAAC;AAClC;AACA,SAASQ,WAAWA,CAACvU,OAAO,EAAEwU,QAAQ,EAAE/e,KAAK,EAAE;EAC7C,MAAMse,KAAK,GAAGA,CAAA,KAAM;IAClB,MAAMU,MAAM,GAAGD,QAAQ,IAAIxU,OAAO;IAClC,MAAMsU,aAAa,GAAGtU,OAAO,CAACwU,QAAQ,CAAC;IACvCxU,OAAO,CAACwU,QAAQ,CAAC,GAAG/e,KAAK;IACzB,OAAO,MAAM;MACX,IAAI,CAACgf,MAAM,EAAE;QACX,OAAOzU,OAAO,CAACwU,QAAQ,CAAC;MAC1B,CAAC,MAAM;QACLxU,OAAO,CAACwU,QAAQ,CAAC,GAAGF,aAAa;MACnC;IACF,CAAC;EACH,CAAC;EACD,OAAO5Z,GAAG,CAACsF,OAAO,EAAEwU,QAAQ,EAAET,KAAK,CAAC;AACtC;AACA,SAASW,QAAQA,CAAC1U,OAAO,EAAEmN,KAAK,EAAE;EAChC,IAAI,CAACnN,OAAO,EAAE,OAAO,MAAM,CAC3B,CAAC;EACD,MAAM+T,KAAK,GAAGA,CAAA,KAAM;IAClB,MAAMY,SAAS,GAAG3U,OAAO,CAACmN,KAAK,CAACyH,OAAO;IACvCC,MAAM,CAACC,MAAM,CAAC9U,OAAO,CAACmN,KAAK,EAAEA,KAAK,CAAC;IACnC,OAAO,MAAM;MACXnN,OAAO,CAACmN,KAAK,CAACyH,OAAO,GAAGD,SAAS;IACnC,CAAC;EACH,CAAC;EACD,OAAOja,GAAG,CAACsF,OAAO,EAAE,OAAO,EAAE+T,KAAK,CAAC;AACrC;;AAEA;AACA,SAASgB,kBAAkBA,CAACC,SAAS,EAAEzS,OAAO,EAAE;EAC9C,MAAM;IAAEuK,KAAK,EAAEmI,MAAM;IAAEC,QAAQ;IAAEnU,GAAG;IAAEoU,OAAO,GAAG,GAAG;IAAE9D;EAAS,CAAC,GAAG9O,OAAO;EACzE,MAAM6S,MAAM,GAAGH,MAAM,CAACI,SAAS,GAAGtU,GAAG;EACrC,MAAMuU,UAAU,GAAGF,MAAM,CAACjf,MAAM,GAAG,CAAC,IAAI2H,KAAK,CAAC0G,IAAI,CAAC4Q,MAAM,CAAC,CAACG,KAAK,CAAE5C,IAAI,IAAKA,IAAI,KAAKyC,MAAM,CAAC,CAAC,CAAC,CAAC;EAC9F,MAAM9B,MAAM,GAAGgC,UAAU,GAAGF,MAAM,CAAC,CAAC,CAAC,GAAGA,MAAM;EAC9C,IAAIxB,KAAK,GAAGoB,SAAS,CAACzV,KAAK,CAAC,CAAC;EAC7B,MAAMjG,IAAI,GAAGma,SAAS,CAACG,KAAK,EAAEN,MAAM,EAAE4B,QAAQ,EAAE7D,QAAQ,CAAC;EACzD,SAAS7J,OAAOA,CAAA,EAAG;IACjBgO,YAAY,CAACP,MAAM,CAACQ,KAAK,CAAC;IAC1BR,MAAM,CAACQ,KAAK,GAAG,CAAC,CAAC;EACnB;EACA,SAASC,MAAMA,CAACjgB,KAAK,EAAE;IACrBwf,MAAM,CAACI,SAAS,GAAG5f,KAAK;IACxB+R,OAAO,CAAC,CAAC;IACT,IAAI/R,KAAK,KAAK,EAAE,EAAE;MAChBwf,MAAM,CAACQ,KAAK,GAAG,CAACnI,UAAU,CAAC,MAAM;QAC/BoI,MAAM,CAAC,EAAE,CAAC;QACVlO,OAAO,CAAC,CAAC;MACX,CAAC,EAAE2N,OAAO,CAAC;IACb;EACF;EACAO,MAAM,CAACN,MAAM,CAAC;EACd,OAAO9b,IAAI;AACb;AACA,IAAIqc,cAAc,GAAG,eAAgBd,MAAM,CAACC,MAAM,CAACC,kBAAkB,EAAE;EACrEa,cAAc,EAAE;IAAEP,SAAS,EAAE,EAAE;IAAEI,KAAK,EAAE,CAAC;EAAE,CAAC;EAC5CI,YAAY,EAAEC;AAChB,CAAC,CAAC;AACF,SAASA,qBAAqBA,CAAC1W,KAAK,EAAE;EACpC,OAAOA,KAAK,CAAC2B,GAAG,CAAC5K,MAAM,KAAK,CAAC,IAAI,CAACiJ,KAAK,CAACe,OAAO,IAAI,CAACf,KAAK,CAACc,OAAO;AACnE;;AAEA;AACA,SAAS6V,mBAAmBA,CAAC3a,GAAG,EAAE3E,EAAE,EAAE;EACpC,MAAM0E,GAAG,GAAGC,GAAG,EAAErB,WAAW,IAAItC,MAAM;EACtC,MAAMue,QAAQ,GAAGA,CAAA,KAAM;IACrBvf,EAAE,GAAGwf,eAAe,CAAC9a,GAAG,CAAC,CAAC;EAC5B,CAAC;EACD6a,QAAQ,CAAC,CAAC;EACV,OAAOzS,WAAW,CAACpI,GAAG,CAAC4O,cAAc,IAAI5O,GAAG,EAAE,QAAQ,EAAE6a,QAAQ,CAAC;AACnE;AACA,SAASC,eAAeA,CAAC9a,GAAG,EAAE;EAC5B,OAAO;IACLQ,KAAK,EAAER,GAAG,CAAC4O,cAAc,EAAEpO,KAAK,IAAIR,GAAG,CAACmP,UAAU;IAClD1O,MAAM,EAAET,GAAG,CAAC4O,cAAc,EAAEnO,MAAM,IAAIT,GAAG,CAACkP;EAC5C,CAAC;AACH;;AAEA;AACA,IAAI6L,mBAAmB,GAAG;EACxBC,MAAM,EAAE,GAAG;EACXC,IAAI,EAAE,eAAe;EACrBxa,MAAM,EAAE,KAAK;EACbya,MAAM,EAAE,MAAM;EACdzL,QAAQ,EAAE,QAAQ;EAClB0L,OAAO,EAAE,GAAG;EACZC,QAAQ,EAAE,UAAU;EACpB5a,KAAK,EAAE,KAAK;EACZ6a,UAAU,EAAE,QAAQ;EACpBC,QAAQ,EAAE;AACZ,CAAC;AACD,SAASC,iBAAiBA,CAACtf,EAAE,EAAE;EAC7Byd,MAAM,CAACC,MAAM,CAAC1d,EAAE,CAAC+V,KAAK,EAAE+I,mBAAmB,CAAC;AAC9C;;AAEA;AACA,IAAIS,GAAG,GAAG,GAAG,GAAG,EAAE;AAClB,SAASC,cAAcA,CAACtD,MAAM,EAAE3L,EAAE,EAAE;EAClC,MAAMvQ,EAAE,GAAGkc,MAAM,CAAC,CAAC;EACnB,IAAInc,aAAa,CAACC,EAAE,CAAC,IAAIA,EAAE,CAACyf,WAAW,EAAE;IACvClP,EAAE,CAACvQ,EAAE,CAAC;IACN,OAAO,MAAM,KAAK,CAAC;EACrB,CAAC,MAAM;IACL,MAAM0f,OAAO,GAAGC,WAAW,CAAC,MAAM;MAChC,MAAMC,GAAG,GAAG1D,MAAM,CAAC,CAAC;MACpB,IAAInc,aAAa,CAAC6f,GAAG,CAAC,IAAIA,GAAG,CAACH,WAAW,EAAE;QACzClP,EAAE,CAACqP,GAAG,CAAC;QACPC,aAAa,CAACH,OAAO,CAAC;MACxB;IACF,CAAC,EAAEH,GAAG,CAAC;IACP,OAAO,MAAMM,aAAa,CAACH,OAAO,CAAC;EACrC;AACF;AACA,SAASI,eAAeA,CAACC,OAAO,EAAExP,EAAE,EAAE;EACpC,MAAMoB,SAAS,GAAG,EAAE;EACpBoO,OAAO,EAAEpS,OAAO,CAAEuO,MAAM,IAAK;IAC3B,MAAM8D,KAAK,GAAGR,cAAc,CAACtD,MAAM,EAAE3L,EAAE,CAAC;IACxCoB,SAAS,CAACC,IAAI,CAACoO,KAAK,CAAC;EACvB,CAAC,CAAC;EACF,OAAO,MAAM;IACXrO,SAAS,CAAChE,OAAO,CAAEtO,EAAE,IAAKA,EAAE,CAAC,CAAC,CAAC;EACjC,CAAC;AACH;AAEA,SAASG,WAAW,EAAE2M,WAAW,EAAExM,QAAQ,EAAEsS,WAAW,EAAEpQ,QAAQ,EAAE2Y,WAAW,EAAE/a,QAAQ,EAAEsa,eAAe,EAAEzD,oBAAoB,EAAE1T,gBAAgB,EAAEmF,mBAAmB,EAAEsU,SAAS,EAAEkC,cAAc,EAAEnb,gBAAgB,EAAEI,UAAU,EAAEnB,WAAW,EAAEG,kBAAkB,EAAE0I,WAAW,EAAEY,aAAa,EAAEJ,YAAY,EAAElD,cAAc,EAAE0F,iBAAiB,EAAEO,gBAAgB,EAAEzB,aAAa,EAAEmC,eAAe,EAAET,eAAe,EAAEvF,cAAc,EAAEiJ,0BAA0B,EAAEvD,eAAe,EAAEpO,WAAW,EAAE6R,oBAAoB,EAAEvP,aAAa,EAAEoD,WAAW,EAAEsO,gBAAgB,EAAEL,iBAAiB,EAAElF,WAAW,EAAEP,gBAAgB,EAAEP,YAAY,EAAE5H,YAAY,EAAE9D,SAAS,EAAE0X,SAAS,EAAEnZ,eAAe,EAAE4G,SAAS,EAAEJ,OAAO,EAAEyB,gBAAgB,EAAEmB,kBAAkB,EAAElK,UAAU,EAAE+F,KAAK,EAAE8C,kBAAkB,EAAExH,iBAAiB,EAAEL,gBAAgB,EAAEuG,SAAS,EAAE6F,WAAW,EAAExN,aAAa,EAAEoT,QAAQ,EAAEnS,cAAc,EAAE2G,KAAK,EAAE0B,eAAe,EAAEc,WAAW,EAAE5C,KAAK,EAAE+C,aAAa,EAAExJ,MAAM,EAAE6H,iBAAiB,EAAE0J,iBAAiB,EAAE3I,cAAc,EAAE9I,aAAa,EAAE4G,QAAQ,EAAEkB,YAAY,EAAE3H,YAAY,EAAEuN,UAAU,EAAEjH,aAAa,EAAEkD,YAAY,EAAEiF,eAAe,EAAEzF,cAAc,EAAEH,qBAAqB,EAAEtJ,gBAAgB,EAAEsH,QAAQ,EAAExH,QAAQ,EAAE4Z,QAAQ,EAAEK,QAAQ,EAAE1K,QAAQ,EAAE4B,iBAAiB,EAAES,eAAe,EAAEuI,QAAQ,EAAEb,aAAa,EAAEI,KAAK,EAAEF,QAAQ,EAAEtJ,gBAAgB,EAAED,GAAG,EAAE2E,kBAAkB,EAAEiB,oBAAoB,EAAEhC,cAAc,EAAE3P,YAAY,EAAE6Y,WAAW,EAAEG,QAAQ,EAAEgC,iBAAiB,EAAE9I,gBAAgB,EAAEQ,UAAU,EAAE2H,mBAAmB,EAAEG,mBAAmB,EAAEU,cAAc,EAAEM,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}